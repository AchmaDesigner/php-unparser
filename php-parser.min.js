(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.phpParser=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var extend=require("util")._extend;var deepCopy=function(origin,add){if(!add||typeof add!=="object")return origin;var keys=Object.keys(add);var i=keys.length;while(i--){var assign=add[keys[i]];if(typeof assign==="object"&&!Array.isArray(assign)){if(!origin.hasOwnProperty(keys[i])){origin[keys[i]]={}}origin[keys[i]]=deepCopy(origin[keys[i]],assign)}else{origin[keys[i]]=assign}}return origin};var engine={create:function(options){var result=deepCopy({},this);if(options){if(options.hasOwnProperty("lexer")){result.lexer=deepCopy(result.lexer,options.lexer)}if(options.hasOwnProperty("parser")){result.parser=deepCopy(result.parser,options.parser)}result.parser.lexer=result.lexer}return result},parseEval:function(buffer,options){var lexer=this.lexer;var parser=this.parser;if(options){if(options.hasOwnProperty("lexer")){lexer=extend(lexer,options.lexer)}if(options.hasOwnProperty("parser")){parser=extend(parser,options.parser)}parser.lexer=lexer}lexer.mode_eval=true;lexer.all_tokens=false;return parser.parse(buffer)},parseCode:function(buffer,options){var lexer=this.lexer;var parser=this.parser;if(options){if(options.hasOwnProperty("lexer")){lexer=extend(lexer,options.lexer)}if(options.hasOwnProperty("parser")){parser=extend(parser,options.parser)}parser.lexer=lexer}lexer.mode_eval=false;lexer.all_tokens=false;return parser.parse(buffer)},tokenGetAll:function(buffer,options){var lexer=this.lexer;lexer.mode_eval=false;lexer.all_tokens=true;if(options){lexer=extend(lexer,options)}var EOF=lexer.EOF;var names=this.tokens.values;lexer.setInput(buffer);var token=lexer.lex()||EOF;var result=[];while(token!=EOF){var entry=lexer.yytext;if(names.hasOwnProperty(token)){entry=[names[token],entry,lexer.yylloc.first_line]}result.push(entry);token=lexer.lex()||EOF}return result},parser:null,lexer:null,tokens:require("./src/tokens")};engine.lexer=require("./src/lexer")(engine);engine.parser=require("./src/parser")(engine);module.exports=engine},{"./src/lexer":2,"./src/parser":11,"./src/tokens":25,util:30}],2:[function(require,module,exports){var fs=require("fs");module.exports=function(engine){var tokens=engine.tokens.names;var api={EOF:1,all_tokens:true,mode_eval:false,asp_tags:false,short_tags:true,yyprevcol:0,setInput:function(input){this._input=input;this.size=input.length;this.yylineno=1;this.offset=0;this.yyprevcol=0;this.yytext="";this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.tokens=[];this.conditionStack=[];this.done=this.offset>=this.size;if(!this.all_tokens&&this.mode_eval){this.begin("ST_IN_SCRIPTING")}else{this.begin("INITIAL")}return this},input:function(size){var ch=this._input[this.offset];if(!ch)return"";this.yytext+=ch;this.offset++;if(ch==="\r"&&this._input[this.offset]==="\n"){this.yytext+="\n";this.offset++}if(ch==="\n"||ch==="\r"){this.yylloc.last_line=++this.yylineno;this.yyprevcol=this.yylloc.last_column;this.yylloc.last_column=0}else{this.yylloc.last_column++}return ch},unput:function(size){if(size===1){this.offset--;if(this._input[this.offset]==="\n"&&this._input[this.offset-1]==="\r"){this.offset--;size++}if(this._input[this.offset]==="\r"||this._input[this.offset]==="\n"){this.yylloc.last_line--;this.yylineno--;this.yylloc.last_column=this.yyprevcol}this.yytext=this.yytext.substring(0,this.yytext.length-size)}else if(size>0){this.offset-=size;var firstChar=this._input[this.offset];if(firstChar==="\n"||this._input[this.offset-1]==="\r"){this.offset--;size++}if(size<this.yytext.length){this.yytext=this.yytext.substring(0,this.yytext.length-size);this.yylloc.last_line=this.yylloc.first_line;this.yylloc.last_col=this.yyprevcol=this.yylloc.first_col;for(var i=0;i<this.yytext.length;i++){var c=this.yytext[i];if(c==="\r"){c=this.yytext[++i];this.yyprevcol=this.yylloc.last_col;this.yylloc.last_line++;this.yylloc.last_col=0;if(c!=="\n"){if(c==="\r"){this.yylloc.last_line++}else{this.yylloc.last_col++}}}else if(c==="\n"){this.yyprevcol=this.yylloc.last_col;this.yylloc.last_line++;this.yylloc.last_col=0}else{this.yylloc.last_col++}}this.yylineno=this.yylloc.last_line}else{this.yytext="";this.yylloc.last_line=this.yylineno=this.yylloc.first_line;this.yylloc.last_column=this.yylloc.first_column}}return this},tryMatch:function(text){return text===this.ahead(text.length)},ahead:function(size){var text=this._input.substring(this.offset,this.offset+size);if(text[text.length-1]==="\r"&&this._input[this.offset+size+1]==="\n"){text+="\n"}return text},consume:function(size){for(var i=0;i<size;i++){var ch=this._input[this.offset];if(!ch)break;this.yytext+=ch;this.offset++;if(ch==="\r"&&this._input[this.offset]==="\n"){this.yytext+="\n";this.offset++;i++}if(ch==="\n"||ch==="\r"){this.yylloc.last_line=++this.yylineno;this.yyprevcol=this.yylloc.last_column;this.yylloc.last_column=0}else{this.yylloc.last_column++}}return this},appendToken:function(value,ahead){this.tokens.push([value,ahead]);return this},lex:function(){var token=this.next()||this.lex();if(!this.all_tokens){while(token===tokens.T_WHITESPACE||token===tokens.T_COMMENT||token===tokens.T_DOC_COMMENT||!this.mode_eval&&(token===tokens.T_OPEN_TAG||token===tokens.T_CLOSE_TAG)){token=this.next()||this.lex()}if(!this.mode_eval&&token==tokens.T_OPEN_TAG_WITH_ECHO){return tokens.T_ECHO}}return token},begin:function(condition){this.conditionStack.push(condition);this.curCondition=condition;this.stateCb=this["match"+condition];if(typeof this.stateCb!=="function"){throw new Error('Undefined condition state "'+condition+'"')}return this},popState:function(){var n=this.conditionStack.length-1;var condition=n>0?this.conditionStack.pop():this.conditionStack[0];this.curCondition=this.conditionStack[this.conditionStack.length-1];this.stateCb=this["match"+this.curCondition];if(typeof this.stateCb!=="function"){throw new Error('Undefined condition state "'+this.curCondition+'"')}return condition},next:function(){var token;if(!this._input){this.done=true}if(this.done){return this.EOF}this.yylloc.first_line=this.yylloc.last_line;this.yylloc.first_column=this.yylloc.last_column;this.yytext="";if(this.tokens.length>0){token=this.tokens.shift();this.consume(token[1]);token=token[0]}else{token=this.stateCb.apply(this,[])}if(this.offset>=this.size&&this.tokens.length===0){this.done=true}return token}};[require("./lexer/comments.js")(api,tokens),require("./lexer/initial.js")(api,tokens),require("./lexer/numbers.js")(api,tokens),require("./lexer/property.js")(api,tokens),require("./lexer/scripting.js")(api,tokens),require("./lexer/strings.js")(api,tokens),require("./lexer/tokens.js")(api,tokens),require("./lexer/utils.js")(api,tokens)].forEach(function(ext){for(var k in ext){api[k]=ext[k]}});return api}},{"./lexer/comments.js":3,"./lexer/initial.js":4,"./lexer/numbers.js":5,"./lexer/property.js":6,"./lexer/scripting.js":7,"./lexer/strings.js":8,"./lexer/tokens.js":9,"./lexer/utils.js":10,fs:26}],3:[function(require,module,exports){module.exports=function(lexer,tokens){return{T_COMMENT:function(){while(this.offset<this.size){var ch=this.input();if(ch==="\n"||ch==="\r"){return tokens.T_COMMENT}else if(ch==="?"&&!this.aspTagMode&&this._input[this.offset]===">"){this.unput(1);return tokens.T_COMMENT}else if(ch==="%"&&this.aspTagMode&&this._input[this.offset]===">"){this.unput(1);return tokens.T_COMMENT}}return tokens.T_COMMENT},T_DOC_COMMENT:function(){var ch=this.input();var token=tokens.T_COMMENT;if(ch==="*"){ch=this.input();if(this.is_WHITESPACE()){token=tokens.T_DOC_COMMENT}else if(ch==="/"){return token}}while(this.offset<this.size){ch=this.input();if(ch==="*"&&this._input[this.offset]==="/"){this.input();break}}return token}}}},{}],4:[function(require,module,exports){module.exports=function(lexer,tokens){return{matchINITIAL:function(){while(this.offset<this.size){var ch=this.input();if(ch=="<"){ch=this.ahead(1);if(ch=="?"){if(this.tryMatch("?=")){this.unput(1).appendToken(tokens.T_OPEN_TAG_WITH_ECHO,3).begin("ST_IN_SCRIPTING");break}else if(this.tryMatch("?php")){ch=this._input[this.offset+4];if(ch===" "||ch==="\t"||ch==="\n"||ch==="\r"){this.unput(1).appendToken(tokens.T_OPEN_TAG,6).begin("ST_IN_SCRIPTING");break}}if(this.short_tags){this.unput(1).appendToken(tokens.T_OPEN_TAG,2).begin("ST_IN_SCRIPTING");break}}else if(this.asp_tags&&ch=="%"){if(this.tryMatch("%=")){this.aspTagMode=true;this.unput(1).appendToken(tokens.T_OPEN_TAG_WITH_ECHO,3).begin("ST_IN_SCRIPTING");break}else{this.aspTagMode=true;this.unput(1).appendToken(tokens.T_OPEN_TAG,2).begin("ST_IN_SCRIPTING");break}}}}if(this.yytext.length>0){return tokens.T_INLINE_HTML}else{return false}}}}},{}],5:[function(require,module,exports){(function(process){module.exports=function(lexer,tokens){if(process.arch=="x64"){var SIZEOF_LONG=8;var MAX_LENGTH_OF_LONG=20;var long_min_digits="9223372036854775808"}else{var SIZEOF_LONG=4;var MAX_LENGTH_OF_LONG=11;var long_min_digits="2147483648"}return{consume_NUM:function(){var ch=this.yytext[0];var hasPoint=this.yytext[0]===".";if(ch==="0"){ch=this.input();if(ch==="x"){this.input();if(this.is_HEX()){return this.consume_HNUM()}else{this.unput(2)}}else if(ch==="b"){ch=this.input();if(ch==="0"||ch==="1"){return this.consume_BNUM()}else{this.unput(2)}}else if(!this.is_NUM()){this.unput(1)}}while(this.offset<this.size){ch=this.input();if(!this.is_NUM()){if(ch==="."&&!hasPoint){hasPoint=true}else if(ch==="e"||ch==="E"){ch=this.input();if(ch==="+"||ch==="-"){ch=this.input();if(this.is_NUM()){this.consume_LNUM();return tokens.T_DNUMBER}else{this.unput(3);break}}else if(this.is_NUM()){this.consume_LNUM();return tokens.T_DNUMBER}else{this.unput(2);break}}else{this.unput(1);break}}}if(hasPoint){return tokens.T_DNUMBER}else if(this.yytext.length<MAX_LENGTH_OF_LONG-1){return tokens.T_LNUMBER}else{if(this.yytext.length==MAX_LENGTH_OF_LONG&&this.yytext<long_min_digits){return tokens.T_LNUMBER}return tokens.T_DNUMBER}},consume_HNUM:function(){while(this.offset<this.size){this.input();if(!this.is_HEX()){this.unput(1);break}}return tokens.T_LNUMBER},consume_LNUM:function(){while(this.offset<this.size){this.input();if(!this.is_NUM()){this.unput(1);break}}return tokens.T_LNUMBER},consume_BNUM:function(){var ch;while(this.offset<this.size){ch=this.input();if(ch!=="0"&&ch!=="1"){this.unput(1);break}}return tokens.T_LNUMBER}}}}).call(this,require("_process"))},{_process:28}],6:[function(require,module,exports){module.exports=function(lexer,tokens){return{matchST_LOOKING_FOR_PROPERTY:function(){var ch=this.input();if(ch==="-"){ch=this.input();if(ch===">"){return tokens.T_OBJECT_OPERATOR}this.unput(1)}else if(this.is_LABEL_START()){this.consume_LABEL();return tokens.T_STRING}this.popState();this.unput(1);return false},matchST_LOOKING_FOR_VARNAME:function(){var ch=this.input();if(this.is_LABEL_START()){this.consume_LABEL();ch=this.input();this.popState();if(ch==="["||ch==="}"){this.begin("ST_IN_SCRIPTING");this.unput(1);return tokens.T_STRING_VARNAME}else{this.unput(this.yytext.length);return false}}else{this.unput(1);this.popState();this.begin("ST_IN_SCRIPTING");return false}},matchST_VAR_OFFSET:function(){var ch=this.input();if(this.is_NUM()){this.consume_NUM();return tokens.T_NUM_STRING}else if(ch==="]"){this.popState();return"]"}else if(ch==="$"){this.input();if(this.is_LABEL_START()){this.consume_LABEL();return tokens.T_VARIABLE}else{throw new Error("Unexpected terminal")}}else if(this.is_LABEL_START()){this.consume_LABEL();return tokens.T_STRING}else if(this.is_WHITESPACE()||ch==="\\"||ch==="'"||ch==="#"){return tokens.T_ENCAPSED_AND_WHITESPACE}else if(ch==="["||ch==="{"||ch==="}"||ch==='"'||ch==="`"||this.is_TOKEN()){return ch}else{throw new Error("Unexpected terminal")}}}}},{}],7:[function(require,module,exports){module.exports=function(lexer,tokens){return{matchST_IN_SCRIPTING:function(){var ch=this.input();switch(ch){case" ":case"\t":case"\n":case"\r":case"\r\n":return this.T_WHITESPACE();case"#":return this.T_COMMENT();case"/":if(this._input[this.offset]==="/"){return this.T_COMMENT()}else if(this._input[this.offset]==="*"){this.input();return this.T_DOC_COMMENT()}return this.consume_TOKEN();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case'"':return this.ST_DOUBLE_QUOTES();case"`":this.begin("ST_BACKQUOTE");return"`";case"?":if(!this.aspTagMode&&this.tryMatch(">")){this.input();var nextCH=this._input[this.offset];if(nextCH==="\n"||nextCH==="\r")this.input();this.popState();return tokens.T_CLOSE_TAG}return this.consume_TOKEN();case"%":if(this.aspTagMode&&this._input[this.offset]===">"){this.input();ch=this._input[this.offset];if(ch==="\n"||ch==="\r"){this.input()}this.aspTagMode=false;this.popState();return tokens.T_CLOSE_TAG}return this.consume_TOKEN();case"{":return"{";case"}":if(this.conditionStack.length>2&&this.conditionStack[this.conditionStack.length-2]!=="ST_IN_SCRIPTING"){this.popState()}return"}";default:if(ch==="."){this.input();if(this.is_NUM()){return this.consume_NUM()}else{this.unput(1)}}if(this.is_NUM()){return this.consume_NUM()}else if(this.is_LABEL_START()){return this.consume_LABEL().T_STRING()}else if(this.is_TOKEN()){return this.consume_TOKEN()}}throw new Error('Bad terminal sequence "'+ch+'" at line '+this.yylineno+" (offset "+this.offset+")")},T_WHITESPACE:function(){while(this.offset<this.size){var ch=this.input();if(ch===" "||ch==="\t"||ch==="\n"||ch==="\r"){continue}this.unput(1);break}return tokens.T_WHITESPACE}}}},{}],8:[function(require,module,exports){module.exports=function(lexer,tokens){return{T_CONSTANT_ENCAPSED_STRING:function(){var ch;while(this.offset<this.size){ch=this.input();if(ch=="\\"){this.input()}else if(ch=="'"){break}}return tokens.T_CONSTANT_ENCAPSED_STRING},is_HEREDOC:function(){var revert=this.offset;if(this._input[this.offset-1]==="<"&&this._input[this.offset]==="<"&&this._input[this.offset+1]==="<"){this.offset+=3;if(this.is_TABSPACE()){while(this.offset<this.size){this.offset++;if(!this.is_TABSPACE()){break}}}var tChar=this._input[this.offset-1];if(tChar==="'"||tChar==='"'){this.offset++}else{tChar=null}if(this.is_LABEL_START()){var yyoffset=this.offset-1;while(this.offset<this.size){this.offset++;if(!this.is_LABEL()){break}}var yylabel=this._input.substring(yyoffset,this.offset-1);if(!tChar||tChar===this._input[this.offset-1]){if(tChar)this.offset++;if(this._input[this.offset-1]==="\r"||this._input[this.offset-1]==="\n"){this.heredoc_label=yylabel;yyoffset=this.offset-revert;this.offset=revert;this.consume(yyoffset);if(tChar==="'"){this.begin("ST_NOWDOC")}else{this.begin("ST_HEREDOC")}return tokens.T_START_HEREDOC}}}}this.offset=revert;return false},ST_DOUBLE_QUOTES:function(){var ch;while(this.offset<this.size){ch=this.input();if(ch=="\\"){this.input()}else if(ch=='"'){break}else if(ch=="$"){ch=this.input();if(ch=="{"||this.is_LABEL_START()){this.unput(2);break}this.unput(1)}else if(ch=="{"){ch=this.input();if(ch=="$"){this.unput(2);break}this.unput(1)}}if(ch=='"'){return tokens.T_CONSTANT_ENCAPSED_STRING}else{if(this.yytext.length>2){this.appendToken(tokens.T_ENCAPSED_AND_WHITESPACE,this.yytext.length-1)}this.unput(this.yytext.length-1);this.begin("ST_DOUBLE_QUOTES");return'"'}},isDOC_MATCH:function(){if(this._input.substring(this.offset-1,this.offset-1+this.heredoc_label.length)===this.heredoc_label){var ch=this._input[this.offset-1+this.heredoc_label.length];if(ch==="\n"||ch==="\r"||ch===";"){return true}}return false},matchST_NOWDOC:function(){if(this.isDOC_MATCH()){this.consume(this.heredoc_label.length);this.popState();return tokens.T_END_HEREDOC}var ch=this._input[this.offset-1];while(this.offset<this.size){if(ch==="\n"||ch==="\r"){ch=this.input();if(this.isDOC_MATCH()){this.unput(1).popState();this.appendToken(tokens.T_END_HEREDOC,this.heredoc_label.length);return tokens.T_ENCAPSED_AND_WHITESPACE}}else{ch=this.input()}}return tokens.T_ENCAPSED_AND_WHITESPACE},matchST_HEREDOC:function(){var ch=this.input();if(this.isDOC_MATCH()){this.consume(this.heredoc_label.length-1);this.popState();return tokens.T_END_HEREDOC}while(this.offset<this.size){if(ch==="\\"){ch=this.input();if(ch!=="\n"&&ch!=="\r"){ch=this.input()}}if(ch==="\n"||ch==="\r"){ch=this.input();if(this.isDOC_MATCH()){this.unput(1).popState();this.appendToken(tokens.T_END_HEREDOC,this.heredoc_label.length);return tokens.T_ENCAPSED_AND_WHITESPACE}}else if(ch==="$"){ch=this.input();if(ch==="{"){this.begin("ST_LOOKING_FOR_VARNAME");if(this.yytext.length>2){this.appendToken(tokens.T_DOLLAR_OPEN_CURLY_BRACES,2);this.unput(2);return tokens.T_ENCAPSED_AND_WHITESPACE}else{return tokens.T_DOLLAR_OPEN_CURLY_BRACES}}else if(this.is_LABEL_START()){var yyoffset=this.offset;var next=this.consume_VARIABLE();if(this.yytext.length>this.offset-yyoffset+2){this.appendToken(next,this.offset-yyoffset+2);this.unput(this.offset-yyoffset+2);return tokens.T_ENCAPSED_AND_WHITESPACE}else{return next}}}else if(ch==="{"){ch=this.input();if(ch==="$"){this.begin("ST_IN_SCRIPTING");if(this.yytext.length>2){this.appendToken(tokens.T_CURLY_OPEN,1);this.unput(2);return tokens.T_ENCAPSED_AND_WHITESPACE}else{this.unput(1);return tokens.T_CURLY_OPEN}}}else{ch=this.input()}}return tokens.T_ENCAPSED_AND_WHITESPACE},consume_VARIABLE:function(){this.consume_LABEL();ch=this.input();if(ch=="["){this.unput(1);this.begin("ST_VAR_OFFSET");return tokens.T_VARIABLE}else if(ch==="-"){if(this.input()===">"){this.input();if(this.is_LABEL_START()){this.begin("ST_LOOKING_FOR_PROPERTY")}this.unput(3);return tokens.T_VARIABLE}else{this.unput(2)}}else{this.unput(1)}return tokens.T_VARIABLE},matchST_BACKQUOTE:function(){var ch=this.input();if(ch==="$"){ch=this.input();if(ch==="{"){this.begin("ST_LOOKING_FOR_VARNAME");return tokens.T_DOLLAR_OPEN_CURLY_BRACES}else if(this.is_LABEL_START()){var tok=this.consume_VARIABLE();return tok}}else if(ch==="{"){if(this._input[this.offset]==="$"){this.begin("ST_IN_SCRIPTING");return tokens.T_CURLY_OPEN}}else if(ch==='"'){this.popState();return'"'}while(this.offset<this.size){if(ch==="\\"){this.input()}else if(ch==="`"){this.unput(1);this.popState();this.appendToken("`",1);break}else if(ch==="$"){ch=this.input();if(ch==="{"){this.begin("ST_LOOKING_FOR_VARNAME");if(this.yytext.length>2){this.appendToken(tokens.T_DOLLAR_OPEN_CURLY_BRACES,2);this.unput(2);return tokens.T_ENCAPSED_AND_WHITESPACE}else{return tokens.T_DOLLAR_OPEN_CURLY_BRACES}}else if(this.is_LABEL_START()){var yyoffset=this.offset;var next=this.consume_VARIABLE();if(this.yytext.length>this.offset-yyoffset+2){this.appendToken(next,this.offset-yyoffset+2);this.unput(this.offset-yyoffset+2);return tokens.T_ENCAPSED_AND_WHITESPACE}else{return next}}this.unput(1)}else if(ch==="{"){ch=this.input();if(ch==="$"){this.begin("ST_IN_SCRIPTING");if(this.yytext.length>2){this.appendToken(tokens.T_CURLY_OPEN,1);this.unput(2);return tokens.T_ENCAPSED_AND_WHITESPACE}else{this.unput(1);return tokens.T_CURLY_OPEN}}this.unput(1)}ch=this.input()}return tokens.T_ENCAPSED_AND_WHITESPACE},matchST_DOUBLE_QUOTES:function(){var ch=this.input();if(ch==="$"){ch=this.input();if(ch==="{"){this.begin("ST_LOOKING_FOR_VARNAME");return tokens.T_DOLLAR_OPEN_CURLY_BRACES}else if(this.is_LABEL_START()){var tok=this.consume_VARIABLE();return tok}}else if(ch==="{"){if(this._input[this.offset]==="$"){this.begin("ST_IN_SCRIPTING");return tokens.T_CURLY_OPEN}}else if(ch==='"'){this.popState();return'"'}while(this.offset<this.size){if(ch==="\\"){this.input()}else if(ch==='"'){this.unput(1);this.popState();this.appendToken('"',1);break}else if(ch==="$"){ch=this.input();if(ch==="{"){this.begin("ST_LOOKING_FOR_VARNAME");if(this.yytext.length>2){this.appendToken(tokens.T_DOLLAR_OPEN_CURLY_BRACES,2);this.unput(2);return tokens.T_ENCAPSED_AND_WHITESPACE}else{return tokens.T_DOLLAR_OPEN_CURLY_BRACES}}else if(this.is_LABEL_START()){var yyoffset=this.offset;var next=this.consume_VARIABLE();if(this.yytext.length>this.offset-yyoffset+2){this.appendToken(next,this.offset-yyoffset+2);this.unput(this.offset-yyoffset+2);return tokens.T_ENCAPSED_AND_WHITESPACE}else{return next}}this.unput(1)}else if(ch==="{"){ch=this.input();if(ch==="$"){this.begin("ST_IN_SCRIPTING");if(this.yytext.length>2){this.appendToken(tokens.T_CURLY_OPEN,1);this.unput(2);return tokens.T_ENCAPSED_AND_WHITESPACE}else{this.unput(1);return tokens.T_CURLY_OPEN}}this.unput(1)}ch=this.input()}return tokens.T_ENCAPSED_AND_WHITESPACE}}}},{}],9:[function(require,module,exports){module.exports=function(lexer,tokens){var keywords={__class__:tokens.T_CLASS_C,__trait__:tokens.T_TRAIT_C,__function__:tokens.T_FUNC_C,__method__:tokens.T_METHOD_C,__line__:tokens.T_LINE,__file__:tokens.T_FILE,__dir__:tokens.T_DIR,__namespace__:tokens.T_NS_C,exit:tokens.T_EXIT,die:tokens.T_EXIT,function:tokens.T_FUNCTION,const:tokens.T_CONST,return:tokens.T_RETURN,try:tokens.T_TRY,catch:tokens.T_CATCH,finally:tokens.T_FINALLY,throw:tokens.T_THROW,if:tokens.T_IF,elseif:tokens.T_ELSEIF,endif:tokens.T_ENDIF,else:tokens.T_ELSE,while:tokens.T_WHILE,endwhile:tokens.T_ENDWHILE,do:tokens.T_DO,for:tokens.T_FOR,endfor:tokens.T_ENDFOR,foreach:tokens.T_FOREACH,endforeach:tokens.T_ENDFOREACH,declare:tokens.T_DECLARE,enddeclare:tokens.T_ENDDECLARE,instanceof:tokens.T_INSTANCEOF,as:tokens.T_AS,switch:tokens.T_SWITCH,endswitch:tokens.T_ENDSWITCH,case:tokens.T_CASE,default:tokens.T_DEFAULT,break:tokens.T_BREAK,continue:tokens.T_CONTINUE,goto:tokens.T_GOTO,echo:tokens.T_ECHO,print:tokens.T_PRINT,class:tokens.T_CLASS,interface:tokens.T_INTERFACE,trait:tokens.T_TRAIT,extends:tokens.T_EXTENDS,implements:tokens.T_IMPLEMENTS,new:tokens.T_NEW,clone:tokens.T_CLONE,var:tokens.T_VAR,eval:tokens.T_EVAL,include:tokens.T_INCLUDE,include_once:tokens.T_INCLUDE_ONCE,require:tokens.T_REQUIRE,require_once:tokens.T_REQUIRE_ONCE,namespace:tokens.T_NAMESPACE,use:tokens.T_USE,insteadof:tokens.T_INSTEADOF,global:tokens.T_GLOBAL,isset:tokens.T_ISSET,empty:tokens.T_EMPTY,__halt_compiler:tokens.T_HALT_COMPILER,static:tokens.T_STATIC,abstract:tokens.T_ABSTRACT,final:tokens.T_FINAL,private:tokens.T_PRIVATE,protected:tokens.T_PROTECTED,public:tokens.T_PUBLIC,unset:tokens.T_UNSET,list:tokens.T_LIST,array:tokens.T_ARRAY,callable:tokens.T_CALLABLE,or:tokens.T_LOGICAL_OR,and:tokens.T_LOGICAL_AND,xor:tokens.T_LOGICAL_XOR};var castKeywords={int:tokens.T_INT_CAST,integer:tokens.T_INT_CAST,real:tokens.T_DOUBLE_CAST,double:tokens.T_DOUBLE_CAST,float:tokens.T_DOUBLE_CAST,string:tokens.T_STRING_CAST,binary:tokens.T_STRING_CAST,array:tokens.T_ARRAY_CAST,object:tokens.T_OBJECT_CAST,bool:tokens.T_BOOL_CAST,boolean:tokens.T_BOOL_CAST,unset:tokens.T_UNSET_CAST};return{T_STRING:function(){var token=this.yytext.toLowerCase();var id=keywords[token];if(!id){if(token==="yield"){if(this.tryMatch(" from")){this.consume(5);id=tokens.T_YIELD_FROM}else{id=tokens.T_YIELD}}else{id=tokens.T_STRING}}return id},consume_TOKEN:function(){var ch=this._input[this.offset-1];var fn=this.tokenTerminals[ch];if(fn){return fn.apply(this,[])}else{return this.yytext}},tokenTerminals:{$:function(){this.offset++;if(this.is_LABEL_START()){this.offset--;this.consume_LABEL();return tokens.T_VARIABLE}else{this.offset--;return"$"}},"-":function(){var nchar=this._input[this.offset];if(nchar===">"){this.begin("ST_LOOKING_FOR_PROPERTY").input();return tokens.T_OBJECT_OPERATOR}else if(nchar==="-"){this.input();return tokens.T_DEC}else if(nchar==="="){this.input();return tokens.T_MINUS_EQUAL}return"-"},"\\":function(){return tokens.T_NS_SEPARATOR},"/":function(){if(this._input[this.offset]==="="){this.input();return tokens.T_DIV_EQUAL}return"/"},":":function(){if(this._input[this.offset]===":"){this.input();return tokens.T_DOUBLE_COLON}else{return":"}},"(":function(){var initial=this.offset;this.input();if(this.is_TABSPACE()){this.consume_TABSPACE().input()}if(this.is_LABEL_START()){var yylen=this.yytext.length;this.consume_LABEL();var castToken=this.yytext.substring(yylen-1).toLowerCase();var castId=castKeywords[castToken];if(castId){this.input();if(this.is_TABSPACE()){this.consume_TABSPACE().input()}if(this._input[this.offset-1]===")"){return castId}}}this.unput(this.offset-initial);return"("},"=":function(){var nchar=this._input[this.offset];if(nchar===">"){this.input();return tokens.T_DOUBLE_ARROW}else if(nchar==="="){if(this._input[this.offset+1]==="="){this.consume(2);return tokens.T_IS_IDENTICAL}else{this.input();return tokens.T_IS_EQUAL}}return"="},"+":function(){var nchar=this._input[this.offset];if(nchar==="+"){this.input();return tokens.T_INC}else if(nchar==="="){this.input();return tokens.T_PLUS_EQUAL}return"+"},"!":function(){if(this._input[this.offset]==="="){if(this._input[this.offset+1]==="="){this.consume(2);return tokens.T_IS_NOT_IDENTICAL}else{this.input();return tokens.T_IS_NOT_EQUAL}}return"!"},"?":function(){if(this._input[this.offset]==="?"){this.input();return tokens.T_COALESCE}return"?"},"<":function(){var nchar=this._input[this.offset];if(nchar==="<"){nchar=this._input[this.offset+1];if(nchar==="="){this.consume(2);return tokens.T_SL_EQUAL}else if(nchar==="<"){if(this.is_HEREDOC()){return tokens.T_START_HEREDOC}}this.input();return tokens.T_SL}else if(nchar==="="){this.input();if(this._input[this.offset]===">"){this.input();return tokens.T_SPACESHIP}else{return tokens.T_IS_SMALLER_OR_EQUAL}}else if(nchar===">"){this.input();return tokens.T_IS_NOT_EQUAL}return"<"},">":function(){var nchar=this._input[this.offset];if(nchar==="="){this.input();return tokens.T_IS_GREATER_OR_EQUAL}else if(nchar===">"){nchar=this._input[this.offset+1];if(nchar==="="){this.consume(2);return tokens.T_SR_EQUAL}else{this.input();return tokens.T_SR}}return">"},"*":function(){var nchar=this._input[this.offset];if(nchar==="="){this.input();return tokens.T_MUL_EQUAL}else if(nchar==="*"){this.input();if(this._input[this.offset]==="="){this.input();return tokens.T_POW_EQUAL}else{return tokens.T_POW}}return"*"},".":function(){var nchar=this._input[this.offset];if(nchar==="="){this.input();return tokens.T_CONCAT_EQUAL}else if(nchar==="."&&this._input[this.offset+1]==="."){this.consume(2);return tokens.T_ELLIPSIS}return"."},"%":function(){if(this._input[this.offset]==="="){this.input();return tokens.T_MOD_EQUAL}return"%"},"&":function(){var nchar=this._input[this.offset];if(nchar==="="){this.input();return tokens.T_AND_EQUAL}else if(nchar==="&"){this.input();return tokens.T_BOOLEAN_AND}return"&"},"|":function(){var nchar=this._input[this.offset];if(nchar==="="){this.input();return tokens.T_OR_EQUAL}else if(nchar==="|"){this.input();return tokens.T_BOOLEAN_OR}return"|"},"^":function(){if(this._input[this.offset]==="="){this.input();return tokens.T_XOR_EQUAL}return"^"}}}}},{}],10:[function(require,module,exports){module.exports=function(){var tokens=";:,.\\[]()|^&+-/*=%!~$<>?@";return{is_NUM:function(){var ch=this._input.charCodeAt(this.offset-1);return ch>47&&ch<58},is_LABEL:function(){var ch=this._input.charCodeAt(this.offset-1);return ch>96&&ch<123||ch>64&&ch<91||ch===95||ch>47&&ch<58||ch>126},is_LABEL_START:function(){var ch=this._input.charCodeAt(this.offset-1);return ch>96&&ch<123||ch>64&&ch<91||ch===95||ch>126},consume_LABEL:function(){while(this.offset<this.size){this.input();if(!this.is_LABEL()){this.unput(1);break}}return this},is_TOKEN:function(){var ch=this._input[this.offset-1];return tokens.indexOf(ch)!==-1},is_NEWLINE:function(){var ch=this._input[this.offset-1];return ch==="\n"||ch==="\r"},is_WHITESPACE:function(){var ch=this._input[this.offset-1];return ch===" "||ch==="\t"||ch==="\n"||ch==="\r"},is_TABSPACE:function(){var ch=this._input[this.offset-1];return ch===" "||ch==="\t"},consume_TABSPACE:function(){while(this.offset<this.size){this.input();if(!this.is_TABSPACE()){this.unput(1);break}}return this},is_HEX:function(){var ch=this._input.charCodeAt(this.offset-1);return ch>47&&ch<58||ch>64&&ch<71||ch>96&&ch<103}}}},{}],11:[function(require,module,exports){var fs=require("fs");module.exports=function(engine){var tokens=engine.tokens.names;var names=engine.tokens.values;var EOF=engine.lexer.EOF;function isNumber(n){return n!="."&&n!=","&&!isNaN(parseFloat(n))&&isFinite(n)}function getTokenName(token){if(!isNumber(token)){return"'"+token+"'"}else{if(token==1)return"the end of file (EOF)";return names[token]}}var _gracefulDecorator=function(fn){try{this._currentNode=this._gracefulProxy[fn].apply(this,Array.prototype.slice.call(arguments,1));return this._currentNode}catch(e){if(this.lastError){this.next();var errorNode=["error",this.lastError.tokenName,this.lastError.expected,this.lastError.line];if(this.ast.length<3){this.ast.push([])}this.ast[2].push(errorNode);return errorNode}else{throw e}}};var api={_gracefulProxy:{},_graceful:false,lexer:engine.lexer,token:null,prev:null,debug:false,locations:false,suppressErrors:false,lastError:false,startAt:[],entries:{SCALAR:[tokens.T_CONSTANT_ENCAPSED_STRING,tokens.T_START_HEREDOC,tokens.T_LNUMBER,tokens.T_DNUMBER,tokens.T_STRING,tokens.T_ARRAY,"[",tokens.T_CLASS_C,tokens.T_TRAIT_C,tokens.T_FUNC_C,tokens.T_METHOD_C,tokens.T_LINE,tokens.T_FILE,tokens.T_DIR,tokens.T_NS_C,'"',"-",tokens.T_NS_SEPARATOR],T_MAGIC_CONST:[tokens.T_CLASS_C,tokens.T_TRAIT_C,tokens.T_FUNC_C,tokens.T_METHOD_C,tokens.T_LINE,tokens.T_FILE,tokens.T_DIR,tokens.T_NS_C],T_MEMBER_FLAGS:[tokens.T_PUBLIC,tokens.T_PRIVATE,tokens.T_PROTECTED,tokens.T_STATIC,tokens.T_ABSTRACT,tokens.T_FINAL],VARIABLE:[tokens.T_VARIABLE,"$",tokens.T_NS_SEPARATOR,tokens.T_STRING,tokens.T_STATIC],EOS:[";",tokens.T_CLOSE_TAG,EOF,tokens.T_INLINE_HTML],EXPR:["@","-","+","!","~","(","`",tokens.T_LIST,tokens.T_CLONE,tokens.T_INC,tokens.T_DEC,tokens.T_NEW,tokens.T_ISSET,tokens.T_EMPTY,tokens.T_INCLUDE,tokens.T_INCLUDE_ONCE,tokens.T_REQUIRE,tokens.T_REQUIRE_ONCE,tokens.T_EVAL,tokens.T_INT_CAST,tokens.T_DOUBLE_CAST,tokens.T_STRING_CAST,tokens.T_ARRAY_CAST,tokens.T_OBJECT_CAST,tokens.T_BOOL_CAST,tokens.T_UNSET_CAST,tokens.T_EXIT,tokens.T_PRINT,tokens.T_YIELD,tokens.T_STATIC,tokens.T_FUNCTION,tokens.T_VARIABLE,"$",tokens.T_NS_SEPARATOR,tokens.T_STRING,tokens.T_STRING,tokens.T_CONSTANT_ENCAPSED_STRING,tokens.T_START_HEREDOC,tokens.T_LNUMBER,tokens.T_DNUMBER,tokens.T_ARRAY,"[",tokens.T_CLASS_C,tokens.T_TRAIT_C,tokens.T_FUNC_C,tokens.T_METHOD_C,tokens.T_LINE,tokens.T_FILE,tokens.T_DIR,tokens.T_NS_C]},parse:function(code){this.lastError=false;this.lexer.setInput(code);this.length=this.lexer._input.length;this.next();this.ast=["program",[]];while(this.token!=EOF){var node=this.read_start();if(node!==null){if(typeof node[0]!=="string"){node.forEach(function(item){this.ast[1].push(item)}.bind(this))}else{this.ast[1].push(node)}}}return this.ast},error:function(expect){token=getTokenName(this.token);var msgExpect="";if(expect){msgExpect=", expecting ";if(Array.isArray(expect)){for(var i=0;i<expect.length;i++){expect[i]=getTokenName(expect[i])}msgExpect+=expect.join(", ")}else{msgExpect+=getTokenName(expect)}}this.lastError={token:this.token,tokenName:token,expected:expect,messageExpected:msgExpect,message:"Parse Error : unexpected "+token+msgExpect+" at line "+this.lexer.yylloc.first_line,line:this.lexer.yylloc.first_line};if(this.suppressErrors&&!this._gracefull){this.token=EOF}else{throw new Error(this.lastError.message)}},graceful:function(mode){if(this._graceful!==mode){if(mode){this._gracefulProxy={};for(var i in this){var cb=this[i];if(typeof cb==="function"){this._gracefulProxy[i]=cb;this[i]=_gracefulDecorator.bind(this,i);
}}}else{for(var i in this._gracefulProxy){this[i]=this._gracefulProxy[i]}}this._graceful=mode}return this},node:function(name){var startAt=null;if(this.locations===true){startAt=[this.lexer.yylloc.first_line,this.lexer.yylloc.first_column,this.length-this.lexer._input.length-this.lexer.yytext.length]}return function(){var result=Array.prototype.slice.call(arguments);if(name&&name.constructor===Array){if(this.locations===true){name[2]=[this.prev[0],this.prev[1],this.length-this.prev[2]];Array.prototype.push.apply(name[3],result)}else{Array.prototype.push.apply(name,result)}result=name}else{if(name){result.unshift(name)}if(this.locations===true){result=["position",startAt,[this.prev[0],this.prev[1],this.length-this.prev[2]],result]}}return result}.bind(this)},expectEndOfStatement:function(){if(this.token===";"||this.token===tokens.T_CLOSE_TAG){this.next()}else if(this.token!==tokens.T_INLINE_HTML&&this.token!==EOF){this.error(";")}return this},showlog:function(){var stack=(new Error).stack.split("\n");console.log("Line "+this.lexer.yylloc.first_line+" : "+getTokenName(this.token)+">"+this.lexer.yytext+"<"+" @"+stack[3].trim());return this},expect:function(token){if(!this.lastError){if(Array.isArray(token)){if(token.indexOf(this.token)===-1){this.error(token)}}else if(this.token!=token){this.error(token)}}return this},text:function(){return this.lexer.yytext},next:function(){this.prev=[this.lexer.yylloc.first_line,this.lexer.yylloc.first_column,this.lexer._input.length];this.token=this.lexer.lex()||EOF;if(this.debug)this.showlog();return this},is:function(type){if(Array.isArray(type)){return type.indexOf(this.token)!==-1}else{return this.entries[type].indexOf(this.token)!=-1}},read_token:function(){var result=this.token;if(isNumber(result)){result=[result,this.text(),this.lexer.yylloc.first_line]}this.next();return result},read_list:function(item,separator,preserveFirstSeparator){var result=[];if(this.token==separator){if(preserveFirstSeparator)result.push("");this.next()}if(typeof item==="function"){do{result.push(item.apply(this,[]));if(this.token!=separator){break}}while(this.next().token!=EOF)}else{result.push(this.expect(item).text());while(this.next().token!=EOF){if(this.token!=separator)break;if(this.next().token!=item)break;result.push(this.text())}}return result}};[require("./parser/array.js")(api,tokens,EOF),require("./parser/class.js")(api,tokens,EOF),require("./parser/expr.js")(api,tokens,EOF),require("./parser/function.js")(api,tokens,EOF),require("./parser/if.js")(api,tokens,EOF),require("./parser/loops.js")(api,tokens,EOF),require("./parser/main.js")(api,tokens,EOF),require("./parser/namespace.js")(api,tokens,EOF),require("./parser/scalar.js")(api,tokens,EOF),require("./parser/statement.js")(api,tokens,EOF),require("./parser/switch.js")(api,tokens,EOF),require("./parser/try.js")(api,tokens,EOF),require("./parser/variable.js")(api,tokens,EOF)].forEach(function(ext){for(var k in ext){api[k]=ext[k]}});return api}},{"./parser/array.js":12,"./parser/class.js":13,"./parser/expr.js":14,"./parser/function.js":15,"./parser/if.js":16,"./parser/loops.js":17,"./parser/main.js":18,"./parser/namespace.js":19,"./parser/scalar.js":20,"./parser/statement.js":21,"./parser/switch.js":22,"./parser/try.js":23,"./parser/variable.js":24,fs:26}],12:[function(require,module,exports){module.exports=function(api,tokens,EOF){return{read_array:function(vars){var expect=null;var items=[];var result=this.node("array");if(this.expect([tokens.T_ARRAY,"["]).token==tokens.T_ARRAY){this.next().expect("(");expect=")"}else{expect="]"}if(this.next().token!=expect){while(this.token!=EOF){items.push(this.read_array_pair_list());if(this.token==","){this.next();if(this.token===expect){break}}else break}}this.expect(expect).next();return result(items)},read_array_pair_list:function(){if(this.token==="&"){return{key:false,value:["ref",this.next().read_variable(true)]}}else{var expr=this.read_expr();if(this.token===tokens.T_DOUBLE_ARROW){if(this.next().token==="&"){return{key:expr,value:["ref",this.next().read_variable(true)]}}else{return{key:expr,value:this.read_expr()}}}else{return{key:false,value:expr}}}},read_dim_offset:function(){if(this.token=="]")return false;return this.read_expr()}}}},{}],13:[function(require,module,exports){module.exports=function(api,tokens,EOF){return{read_class:function(flag){var result=this.node("class");this.expect(tokens.T_CLASS).next().expect(tokens.T_STRING);var propName=this.text(),propExtends=false,propImplements=false;if(this.next().token==tokens.T_EXTENDS){propExtends=this.next().read_namespace_name()}if(this.token==tokens.T_IMPLEMENTS){propImplements=this.next().read_list(this.read_namespace_name,",")}return result(propName,flag,propExtends,propImplements,this.expect("{").next().read_class_body())},read_class_scope:function(){var result=this.token;if(result==tokens.T_FINAL||result==tokens.T_ABSTRACT){this.next();return result}return 0},read_class_body:function(){var result={constants:[],properties:[],methods:[],use:{traits:[],adaptations:[]}},startAt=null,node=null;while(this.token!==EOF&&this.token!=="}"){if(this.token===tokens.T_USE){this.next().read_trait_use_statement(result["use"]);continue}if(this.token===tokens.T_CONST){node=this.node();var constants=this.read_constant_list();this.expect(";").next();constants=node.apply(this,constants);result.constants.push(constants);continue}if(this.locations){startAt=[this.lexer.yylloc.first_line,this.lexer.yylloc.first_column,this.length-this.lexer._input.length-this.lexer.yytext.length]}var flags=this.read_member_flags(false);if(this.token===tokens.T_VAR){this.next().expect(tokens.T_VARIABLE)}if(this.token===tokens.T_VARIABLE){node=this.node();var variables=this.read_variable_list();this.expect(";").next();variables=node.apply(this,variables).concat([flags]);if(this.locations){variables[1]=startAt}result.properties.push(variables)}else if(this.token===tokens.T_FUNCTION){var method=this.read_function(false,flags[2]===1).concat([flags]);if(this.locations){method[1]=startAt}result.methods.push(method)}else{this.error([tokens.T_CONST,tokens.T_VARIABLE,tokens.T_FUNCTION])}}this.expect("}").next();return result},read_variable_list:function(){return this.read_list(this.read_variable_declaration,",")},read_variable_declaration:function(){var varName=this.node(this.text());this.expect(tokens.T_VARIABLE).next();if(this.token===";"||this.token===","){return varName(null)}else if(this.token==="="){return varName(this.next().read_scalar())}else{this.expect([",",";","="])}},read_constant_list:function(){return this.expect(tokens.T_CONST).next().read_list(this.read_constant_declaration,",")},read_constant_declaration:function(){var name=this.node(this.text());var value=this.expect(tokens.T_STRING).next().expect("=").next().read_expr();return name(value)},read_member_flags:function(asInterface){var result=[-1,-1,-1];if(this.is("T_MEMBER_FLAGS")){var idx=0,val=0;do{switch(this.token){case tokens.T_PUBLIC:idx=0;val=0;break;case tokens.T_PROTECTED:idx=0;val=1;break;case tokens.T_PRIVATE:idx=0;val=2;break;case tokens.T_STATIC:idx=1;val=1;break;case tokens.T_ABSTRACT:idx=2;val=1;break;case tokens.T_FINAL:idx=2;val=2;break}if(asInterface){if(idx==0&&val==2){this.expect([tokens.T_PUBLIC,tokens.T_PROTECTED])}else if(idx==2&&val==1){this.error()}}if(result[idx]!=-1)this.error();result[idx]=val}while(this.next().is("T_MEMBER_FLAGS"))}if(result[0]==-1)result[0]=0;if(result[1]==-1)result[1]=0;if(result[2]==-1)result[2]=0;return result},read_interface:function(flag){var result=this.node("interface");var name=this.expect(tokens.T_INTERFACE).next().expect(tokens.T_STRING).text();var propExtends=false;if(this.next().token==tokens.T_EXTENDS){propExtends=this.next().read_list(this.read_namespace_name,",")}return result(name,flag,propExtends,this.expect("{").next().read_interface_body())},read_interface_body:function(){var result={constants:[],methods:[]},startAt=null;while(this.token!==EOF&&this.token!=="}"){if(this.token==tokens.T_CONST){var node=this.node();var constants=this.read_constant_list();this.expect(";").next();constants=node.apply(this,constants);result.constants.push(constants);continue}if(this.locations){startAt=[this.lexer.yylloc.first_line,this.lexer.yylloc.first_column,this.length-this.lexer._input.length-this.lexer.yytext.length]}var flags=this.read_member_flags(true);if(this.token===tokens.T_FUNCTION){var method=this.read_function_declaration().concat([flags]);if(this.locations){method[1]=startAt}result.methods.push(method);this.expect(";").next()}else{this.error([tokens.T_CONST,tokens.T_FUNCTION])}}this.expect("}").next();return result},read_trait:function(flag){var result=this.node("trait");this.expect(tokens.T_TRAIT).next().expect(tokens.T_STRING);var propName=this.text(),propExtends=false,propImplements=false;if(this.next().token==tokens.T_EXTENDS){propExtends=this.next().read_namespace_name()}if(this.token==tokens.T_IMPLEMENTS){propImplements=this.next().read_list(this.read_namespace_name,",")}return result(propName,propExtends,propImplements,this.expect("{").next().read_class_body())},read_trait_use_statement:function(result){result.traits.push(this.read_namespace_name());while(this.token===","){result.traits.push(this.next().read_namespace_name())}if(this.token==="{"){while(this.next()){if(this.token==="}")break;result.adaptations.push(this.read_trait_use_alias());this.expect(";")}this.expect("}").next()}else{this.expect(";").next()}},read_trait_use_alias:function(){var result={origin:this.read_namespace_name(),act:false,target:false};if(this.token===tokens.T_DOUBLE_COLON){result.origin=[result.origin,this.next().expect(tokens.T_STRING).text()];this.next()}if(this.token===tokens.T_INSTEADOF){result.act="instead";result.target=this.next().read_namespace_name()}else if(this.token===tokens.T_AS){result.act="as";result.flags=this.next().read_member_flags();result.target=this.expect(tokens.T_STRING).text();this.next()}else{this.expect([tokens.T_AS,tokens.T_INSTEADOF])}return result}}}},{}],14:[function(require,module,exports){module.exports=function(api,tokens,EOF){return{read_expr:function(){var expr=this.read_expr_item();switch(this.token){case"|":return this.node("bin")("|",expr,this.next().read_expr());case"&":return this.node("bin")("&",expr,this.next().read_expr());case"^":return["bin","^",expr,this.next().read_expr()];case".":return["bin",".",expr,this.next().read_expr()];case"+":return["bin","+",expr,this.next().read_expr()];case"-":return["bin","-",expr,this.next().read_expr()];case"*":return["bin","*",expr,this.next().read_expr()];case"/":return["bin","/",expr,this.next().read_expr()];case"%":return["bin","%",expr,this.next().read_expr()];case tokens.T_POW:return["bin","**",expr,this.next().read_expr()];case tokens.T_SL:return["bin","<<",expr,this.next().read_expr()];case tokens.T_SR:return["bin",">>",expr,this.next().read_expr()];case tokens.T_BOOLEAN_OR:case tokens.T_LOGICAL_OR:return["bool","|",expr,this.next().read_expr()];case tokens.T_BOOLEAN_AND:case tokens.T_LOGICAL_AND:return["bool","&",expr,this.next().read_expr()];case tokens.T_LOGICAL_XOR:return["bool","^",expr,this.next().read_expr()];case tokens.T_IS_IDENTICAL:return["bool","=",expr,this.next().read_expr()];case tokens.T_IS_NOT_IDENTICAL:return["bool","!=",expr,this.next().read_expr()];case tokens.T_IS_EQUAL:return["bool","~",expr,this.next().read_expr()];case tokens.T_IS_NOT_EQUAL:return["bool","!~",expr,this.next().read_expr()];case"<":return["bool","<",expr,this.next().read_expr()];case">":return["bool",">",expr,this.next().read_expr()];case tokens.T_IS_SMALLER_OR_EQUAL:return["bool","<=",expr,this.next().read_expr()];case tokens.T_IS_GREATER_OR_EQUAL:return["bool",">=",expr,this.next().read_expr()];case tokens.T_SPACESHIP:return["bool","<=>",expr,this.next().read_expr()];case tokens.T_INSTANCEOF:return["bool","?",expr,this.next().read_expr()];case tokens.T_COALESCE:return["retif",["sys","isset",expr],expr,this.next().read_expr()];case"?":var trueArg=null;if(this.next().token!==":"){trueArg=this.read_expr()}this.expect(":").next();return["retif",expr,trueArg,this.read_expr()]}return expr},read_expr_item:function(){switch(this.token){case"@":return["silent",this.next().read_expr()];case"-":case"+":case"!":case"~":return this.node("unary")(this.token,this.next().read_expr());case"(":var expr=this.next().read_expr();this.expect(")").next();if(this.token===tokens.T_OBJECT_OPERATOR){return this.recursive_variable_chain_scan(expr,false)}else if(this.token===tokens.T_CURLY_OPEN||this.token==="["){return["deference",expr,this.read_encapsed_string_item()]}else if(this.token==="("){return["call",expr,this.read_function_argument_list()]}else{return expr}case"`":var result=this.node("sys");var expr=this.next().read_encapsed_string("`");return result("shell",expr);case tokens.T_LIST:var result=this.node("list");this.next().expect("(").next();var assignList=this.read_assignment_list();this.expect(")").next().expect("=").next();return result(assignList,this.read_expr());case tokens.T_CLONE:return this.node("sys")("clone",this.next().read_expr());case tokens.T_INC:var name=this.next().read_variable();return["set",name,["bin","+",name,["number",1]]];case tokens.T_DEC:var name=this.next().read_variable();return["set",name,["bin","-",name,["number",1]]];case tokens.T_NEW:return this.next().read_new_expr();case tokens.T_ISSET:this.next().expect("(").next();var expr=this.read_list(this.read_expr,",");this.expect(")").next();return["sys","isset",expr];case tokens.T_EMPTY:this.next().expect("(").next();var expr=this.read_expr();this.expect(")").next();return["sys","empty",expr];case tokens.T_INCLUDE:return["sys","include",this.next().read_expr()];case tokens.T_INCLUDE_ONCE:return["sys","include_once",this.next().read_expr()];case tokens.T_REQUIRE:return["sys","require",this.next().read_expr()];case tokens.T_REQUIRE_ONCE:return["sys","require",this.next().read_expr()];case tokens.T_EVAL:this.next().expect("(").next();var expr=this.read_expr();this.expect(")").next();return["sys","eval",expr];case tokens.T_INT_CAST:return["cast","int",this.next().read_expr()];case tokens.T_DOUBLE_CAST:return["cast","double",this.next().read_expr()];case tokens.T_STRING_CAST:return["cast","string",this.next().read_expr()];case tokens.T_ARRAY_CAST:return["cast","array",this.next().read_expr()];case tokens.T_OBJECT_CAST:return["cast","object",this.next().read_expr()];case tokens.T_BOOL_CAST:return["cast","boolean",this.next().read_expr()];case tokens.T_UNSET_CAST:return["sys","unset",this.next().read_expr()];case tokens.T_EXIT:var expr=null;if(this.next().token==="("){if(this.next().token!==")"){expr=this.read_expr();this.expect(")").next()}else{this.next()}}return["sys","exit",expr];case tokens.T_PRINT:return["sys","print",this.next().read_expr()];case tokens.T_YIELD:var result=["yield",null,null];if(this.next().is("EXPR")){result[1]=this.read_expr();if(this.token===tokens.T_DOUBLE_ARROW){result[2]=this.next().read_expr()}}return result;case tokens.T_YIELD_FROM:return["yield-from",this.next().read_expr()];case tokens.T_FUNCTION:return this.read_function(true)}var expr;if(this.is("VARIABLE")){expr=this.read_variable();switch(this.token){case"=":if(this.next().token=="&"){if(this.next().token===tokens.T_NEW){return["link",expr,this.next().read_new_expr()]}else{return["link",expr,this.read_variable()]}}else{return["set",expr,this.token===tokens.T_NEW?this.next().read_new_expr():this.read_expr()]}case tokens.T_PLUS_EQUAL:return["set",expr,["bin","+",expr,this.next().read_expr()]];case tokens.T_MINUS_EQUAL:return["set",expr,["bin","-",expr,this.next().read_expr()]];case tokens.T_MUL_EQUAL:return["set",expr,["bin","*",expr,this.next().read_expr()]];case tokens.T_POW_EQUAL:return["set",expr,["bin","**",expr,this.next().read_expr()]];case tokens.T_DIV_EQUAL:return["set",expr,["bin","/",expr,this.next().read_expr()]];case tokens.T_CONCAT_EQUAL:return["set",expr,["bin",".",expr,this.next().read_expr()]];case tokens.T_MOD_EQUAL:return["set",expr,["bin","%",expr,this.next().read_expr()]];case tokens.T_AND_EQUAL:return["set",expr,["bin","&",expr,this.next().read_expr()]];case tokens.T_OR_EQUAL:return["set",expr,["bin","|",expr,this.next().read_expr()]];case tokens.T_XOR_EQUAL:return["set",expr,["bin","^",expr,this.next().read_expr()]];case tokens.T_SL_EQUAL:return["set",expr,["bin","<<",expr,this.next().read_expr()]];case tokens.T_SR_EQUAL:return["set",expr,["bin",">>",expr,this.next().read_expr()]];case tokens.T_INC:this.next();return["post","+",expr];case tokens.T_DEC:this.next();return["post","-",expr]}}else if(this.is("SCALAR")){expr=this.read_scalar()}else{this.error("EXPR")}return expr},read_new_expr:function(){var result=this.node("new");if(this.token===tokens.T_CLASS){var propExtends=false,propImplements=false;if(this.next().token==tokens.T_EXTENDS){propExtends=this.next().read_namespace_name()}if(this.token==tokens.T_IMPLEMENTS){propImplements=this.next().read_list(this.read_namespace_name,",")}return result(false,propExtends,propImplements,this.expect("{").next().read_class_body())}else{var name=this.read_class_name_reference();var args=[];if(this.token==="("){args=this.read_function_argument_list()}return result(name,args)}},read_class_name_reference:function(){if(this.token==="\\"||this.token===tokens.T_STRING){return this.read_namespace_name()}else if(this.is("VARIABLE")){return this.read_variable(true)}else{this.expect([tokens.T_STRING,"VARIABLE"])}},read_assignment_list:function(innerList){return this.read_list(this.read_assignment_list_element,",")},read_assignment_list_element:function(){var result=null;if(this.token===tokens.T_LIST){result=this.node("list");result=result(this.next().expect("(").next().read_assignment_list(),false);this.expect(")").next()}else if(this.token!==","){result=this.read_variable()}return result}}}},{}],15:[function(require,module,exports){module.exports=function(api,tokens,EOF){return{is_reference:function(){if(this.token=="&"){this.next();return true}return false},is_variadic:function(){if(this.token===tokens.T_ELLIPSIS){this.next();return true}return false},read_function:function(annonymous,isAbstract){var result=this.node(this.read_function_declaration(annonymous));if(isAbstract){result=result();this.expect(";").next()}else{result=result(this.expect("{").read_code_block(false))}return result},read_function_declaration:function(annonymous){var result=this.node("function");this.expect(tokens.T_FUNCTION);var isRef=this.next().is_reference();var name=false,use=[],returnType=false;if(!annonymous){name=this.expect(tokens.T_STRING).text();this.next()}this.expect("(").next();var params=this.read_parameter_list();this.expect(")").next();if(this.token===tokens.T_USE){use=this.next().expect("(").next().read_list(this.read_lexical_var,",");this.expect(")").next()}if(this.token===":"){returnType=this.next().read_type()}return result(name,params,isRef,use,returnType)},read_lexical_var:function(){var result=[false,null];if(this.token==="&"){result[0]=true;this.next()}if(this.token===tokens.T_VARIABLE){result[1]=this.text();this.next()}else{this.expect(["&",tokens.T_VARIABLE])}return result},read_parameter_list:function(){var result=[];if(this.token!=")"){while(this.token!=EOF){result.push(this.read_parameter());if(this.token==","){this.next()}else if(this.token==")"){break}else{this.error([",",")"])}}}return result},read_parameter:function(){var type=this.read_type();var isRef=this.is_reference();var isVariadic=this.is_variadic();var name=this.expect(tokens.T_VARIABLE).text();var value=[];if(this.next().token=="="){value=this.next().read_expr()}return[name,type,value,isRef,isVariadic]},read_function_argument_list:function(){var result=[];this.expect("(").next();if(this.token!==")"){while(this.token!=EOF){result.push(this.read_argument_list());if(this.token===","){this.next()}else break}}this.expect(")").next();return result},read_argument_list:function(){if(this.token===tokens.T_ELLIPSIS){return["...",this.next().read_expr()]}return this.read_expr()},read_type:function(){switch(this.token){case tokens.T_ARRAY:this.next();return"array";case tokens.T_NS_SEPARATOR:case tokens.T_STRING:return this.read_namespace_name();case tokens.T_CALLABLE:this.next();return"callable";default:return"mixed"}}}}},{}],16:[function(require,module,exports){module.exports=function(api,tokens,EOF){return{read_if:function(){var result=this.node("if");var cond=this.read_if_expr();var body=null;var elseCond=false;if(this.token===":"){this.next();body=[];while(this.token!=EOF&&this.token!==tokens.T_ENDIF){if(this.token===tokens.T_ELSEIF){elseCond=this.next().read_elseif_short();break}else if(this.token===tokens.T_ELSE){elseCond=this.next().read_else_short();break}body.push(this.read_inner_statement())}this.expect(tokens.T_ENDIF).next().expectEndOfStatement()}else{body=this.read_statement();if(this.token===tokens.T_ELSEIF){elseCond=this.next().read_if()}else if(this.token===tokens.T_ELSE){elseCond=this.next().read_statement()}}return result(cond,body,elseCond)},read_if_expr:function(){this.expect("(").next();var result=this.read_expr();this.expect(")").next();return result},read_elseif_short:function(){var cond=this.read_if_expr();this.expect(":").next();var body=[];var elseCond=false;while(this.token!=EOF&&this.token!==tokens.T_ENDIF){if(this.token===tokens.T_ELSEIF){elseCond=this.next().read_elseif_short();break}else if(this.token===tokens.T_ELSE){elseCond=this.next().read_else_short();break}body.push(this.read_inner_statement())}return["if",cond,body,elseCond]},read_else_short:function(){this.expect(":").next();var body=[];while(this.token!=EOF&&this.token!==tokens.T_ENDIF){body.push(this.read_inner_statement())}return body}}}},{}],17:[function(require,module,exports){module.exports=function(api,tokens,EOF){return{read_short_form:function(token){var body=[];this.expect(":").next();while(this.token!=EOF&&this.token!==token){body.push(this.read_inner_statement())}this.expect(token).next().expectEndOfStatement();return body},read_while:function(){this.expect("(").next();var cond=this.read_expr();this.expect(")").next();var body=[];if(this.token===":"){body=this.read_short_form(tokens.T_ENDWHILE)}else{body=this.read_statement()}return["while",cond,body]},read_do:function(){var body=this.read_statement();this.expect(tokens.T_WHILE).next().expect("(").next();var cond=this.read_expr();this.expect(")").next().expect(";").next();return["do",cond,body]},read_for:function(){this.expect("(").next();var expr1=null,expr2=null,expr3=null;if(this.token!==";"){expr1=this.read_list(this.read_expr,",");this.expect(";").next()}else{this.next()}if(this.token!==";"){expr2=this.read_list(this.read_expr,",");this.expect(";").next()}else{this.next()}if(this.token!==")"){expr3=this.read_list(this.read_expr,",");this.expect(")").next()}else{this.next()}var body=null;if(this.token===":"){body=this.read_short_form(tokens.T_ENDFOR)}else{body=this.read_statement()}return["for",expr1,expr2,expr3,body]},read_foreach:function(){this.expect("(").next();var expr=this.read_expr();this.expect(tokens.T_AS).next();var item=this.read_foreach_variable(),key=false;if(this.token===tokens.T_DOUBLE_ARROW){key=item;item=this.next().read_foreach_variable()}this.expect(")").next();var body=[];if(this.token===":"){body=this.read_short_form(tokens.T_ENDFOREACH)}else{body=this.read_statement()}return["foreach",expr,key,item,body]},read_foreach_variable:function(){if(this.token==="&"){return["byref",this.next().read_variable()]}else if(this.token===tokens.T_LIST){this.next().expect("(").next();var assignList=this.read_assignment_list();this.expect(")").next();return["list",assignList,false]}else{return this.read_variable()}}}}},{}],18:[function(require,module,exports){module.exports=function(api,tokens,EOF){return{read_start:function(){if(this.token==tokens.T_NAMESPACE){return this.read_namespace()}else{return this.read_top_statement()}}}}},{}],19:[function(require,module,exports){module.exports=function(api,tokens,EOF){return{read_namespace:function(){this.expect(tokens.T_NAMESPACE).next();var result=this.node("namespace");if(this.token=="{"){return result([""],this.read_code_block(true))}else{if(this.token===tokens.T_NS_SEPARATOR)this.error(["{",tokens.T_STRING]);var name=this.read_namespace_name();if(this.token==";"){var body=this.next().read_top_statements();this.expect(EOF);return result(name,body)}else if(this.token=="{"){return result(name,this.read_code_block(true))}else{this.error(["{",";"])}}},read_namespace_name:function(){return this.read_list(tokens.T_STRING,tokens.T_NS_SEPARATOR,true)},read_use_statements:function(){var result=[];while(this.token!==EOF){this.expect(tokens.T_USE).next();this.read_list(this.read_use_statement_mixed,",").forEach(function(item){if(typeof item[0]==="string"){result.push(item)}else{item.forEach(function(child){result.push(child)})}});if(this.token!==tokens.T_USE)break}return result},read_inline_use_declaration:function(prefix){var result=[];while(this.token!==EOF){var node=this.node("use");var ns=this.read_use_statement(prefix[3]!==false);if(this.token===tokens.T_AS){this.next().expect(tokens.T_STRING);ns[1]=this.text();this.next()}ns[0]=prefix[0].concat(ns[0]);if(prefix[2]!==false){ns[2]=prefix[2]}result.push(node.apply(this,ns));if(this.token!==","){break}else{this.next()}}return result},read_use_statement_mixed:function(){var result=this.node("use");var use=this.read_use_statement();if(this.token===tokens.T_AS){this.next().expect(tokens.T_STRING);use[1]=this.text();this.next()}else if(this.token==="{"){use=this.next().read_inline_use_declaration(use);this.expect("}").next();return use}return result.apply(this,use)},read_use_statement:function(ignoreType){var type=false;if(!ignoreType&&(this.token===tokens.T_FUNCTION||this.token===tokens.T_CONST)){type=this.token===tokens.T_FUNCTION?"function":"const";this.next()}var name=this.read_namespace_name();return[name,name[name.length-1],type]}}}},{}],20:[function(require,module,exports){module.exports=function(api,tokens,EOF){var specialChar={"\\r":"\r","\\n":"\n","\\t":"\t","\\v":String.fromCharCode(11),"\\e":String.fromCharCode(27),"\\f":String.fromCharCode(12),"\\\\":"\\","\\$":"$",'\\"':'"',"\\'":"'"};return{read_scalar:function(){if(this.is("T_MAGIC_CONST")){return this.get_magic_constant()}else{switch(this.token){case tokens.T_CONSTANT_ENCAPSED_STRING:var value=this.text();value=value.substring(1,value.length-1).replace(/\\[rntvef"'\\\$]/g,function(seq){return specialChar[seq]});this.next();if(this.token===tokens.T_DOUBLE_COLON){return this.read_static_getter(["string",value])}else{return["string",value]}case tokens.T_START_HEREDOC:return this.next().read_encapsed_string(tokens.T_END_HEREDOC);case'"':return this.next().read_encapsed_string('"');case"-":case tokens.T_LNUMBER:case tokens.T_DNUMBER:var result=this.node("number");var value=this.text();if(this.token==="-"){this.next().expect([tokens.T_LNUMBER,tokens.T_DNUMBER]);value+=this.text()}this.next();return result(value);case tokens.T_NS_SEPARATOR:case tokens.T_STRING:var value=this.read_namespace_name();if(this.token==tokens.T_DOUBLE_COLON){this.next().expect(tokens.T_STRING);value=[value,this.text()];this.next()}return["const",value];case tokens.T_ARRAY:case"[":return this.read_array(false);default:this.error("SCALAR")}}},read_encapsed_string_item:function(){var result=null;if(this.token===tokens.T_ENCAPSED_AND_WHITESPACE){result=["string",this.text()];this.next()}else if(this.token===tokens.T_DOLLAR_OPEN_CURLY_BRACES){if(this.next().token===tokens.T_STRING_VARNAME){result=["var",this.text()];if(this.next().token==="["){result=["offset",result,this.next().read_expr()];this.expect("]").next()}}else{result=this.next().read_expr()}this.expect("}").next()}else if(this.token===tokens.T_CURLY_OPEN){result=this.next().read_variable(false,false);this.expect("}").next()}else if(this.token===tokens.T_VARIABLE){result=this.read_variable(false,true)}else{this.expect([tokens.T_VARIABLE,tokens.T_CURLY_OPEN,tokens.T_DOLLAR_OPEN_CURLY_BRACES,tokens.T_ENCAPSED_AND_WHITESPACE])}return result},read_encapsed_string:function(expect){if(this.token===expect){this.next();return null}var first=this.read_encapsed_string_item();if(this.token===expect){this.next();return first}var result=["bin",".",first,this.read_encapsed_string_item()];while(this.token!==expect){result[3]=["bin",".",result[3],this.read_encapsed_string_item()]}this.expect(expect).next();return result},get_magic_constant:function(){var result=this.node("magic");var name=this.text();this.next();return result(name)}}}},{}],21:[function(require,module,exports){module.exports=function(api,tokens,EOF){return{read_top_statements:function(){var result=[];while(this.token!==EOF&&this.token!=="}"){var statement=this.read_top_statement();if(statement){if(typeof statement[0]==="string"){result.push(statement)}else{result=result.concat(statement)}}}return result},read_top_statement:function(){switch(this.token){case tokens.T_FUNCTION:return this.read_function();case tokens.T_ABSTRACT:case tokens.T_FINAL:var flag=this.read_class_scope();switch(this.token){case tokens.T_CLASS:return this.read_class(flag);case tokens.T_INTERFACE:return this.read_interface(flag);default:this.error([tokens.T_CLASS,tokens.T_INTERFACE])}case tokens.T_CLASS:return this.read_class(0);case tokens.T_INTERFACE:return this.read_interface(0);case tokens.T_TRAIT:return this.read_trait();case tokens.T_USE:var expr=this.read_use_statements();this.expect(";").next();return expr;case tokens.T_CONST:return this.next().read_const_list();case tokens.T_NAMESPACE:return this.read_namespace();default:return this.read_statement()}},read_inner_statements:function(){var result=[];while(this.token!=EOF&&this.token!=="}"){var statement=this.read_inner_statement();if(statement){if(typeof statement[0]==="string"){result.push(statement)}else{result=result.concat(statement)}}}return result},read_const_list:function(){var result=this.read_list(function(){this.expect(tokens.T_STRING);var name=this.text();this.next().expect("=").next();return[name,this.read_expr()]},",");this.expectEndOfStatement();return["const",result]},read_declare_list:function(){return this.read_list(function(){this.expect(tokens.T_STRING);var name=this.text();this.next().expect("=").next();return[name,this.read_expr()]},",")},read_inner_statement:function(){switch(this.token){case tokens.T_FUNCTION:return this.read_function();case tokens.T_ABSTRACT:case tokens.T_FINAL:var flag=this.read_class_scope();switch(this.token){case tokens.T_CLASS:return this.read_class(flag);case tokens.T_INTERFACE:return this.read_interface(flag);default:this.error([tokens.T_CLASS,tokens.T_INTERFACE])}case tokens.T_CLASS:return this.read_class(0);case tokens.T_INTERFACE:return this.read_interface(0);case tokens.T_TRAIT:return this.read_trait();default:return this.read_statement()}},read_statement:function(){switch(this.token){case"{":return this.read_code_block(false);case tokens.T_IF:return this.next().read_if();case tokens.T_SWITCH:return this.read_switch();case tokens.T_FOR:return this.next().read_for();case tokens.T_FOREACH:return this.next().read_foreach();case tokens.T_WHILE:return this.next().read_while();case tokens.T_DO:return this.next().read_do();case tokens.T_RETURN:case tokens.T_BREAK:case tokens.T_CONTINUE:var mode;switch(this.token){case tokens.T_RETURN:mode="return";break;case tokens.T_BREAK:mode="break";break;case tokens.T_CONTINUE:mode="continue";break}var expr=null;if(!this.next().is("EOS")){expr=this.read_expr()}this.expectEndOfStatement();return[mode,expr];case tokens.T_GLOBAL:var items=this.next().read_list(this.read_simple_variable,",");this.expectEndOfStatement();return["global",items];case tokens.T_STATIC:if(this.next().token===tokens.T_DOUBLE_COLON){this.lexer.unput(8);var expr=this.next().read_expr();this.expect(";").next();return expr}var items=this.read_list(function(){var name=this.expect(tokens.T_VARIABLE).text();var value=null;if(this.next().token==="="){value=this.next().read_expr();
}return[name,value]},",");this.expectEndOfStatement();return["global",items];case tokens.T_ECHO:var items=this.next().read_list(this.read_expr,",");this.expectEndOfStatement();return["sys","echo",items];case tokens.T_INLINE_HTML:var text=["string",this.text()];this.next();return["sys","echo",text];case tokens.T_UNSET:this.next().expect("(").next();var items=this.read_list(this.read_variable,",");this.expect(")").next().expect(";").next();return["sys","unset",items];case tokens.T_DECLARE:var result=this.node("declare");this.next().expect("(").next();var options=this.read_declare_list();this.expect(")").next();var body=this.read_statement();return result(options,body);break;case tokens.T_TRY:return this.read_try();case tokens.T_THROW:var expr=this.next().read_expr();this.expectEndOfStatement();return["throw",expr];case";":case tokens.T_CLOSE_TAG:this.next();return null;case tokens.T_STRING:var label=this.text();if(this.next().token===":"){var result=this.node("label");this.next();return result(label)}else{this.lexer.unput(label.length+this.text().length);var expr=this.next().read_expr();this.expect([";",tokens.T_CLOSE_TAG]).next();return expr}case tokens.T_GOTO:var result=this.node("goto");var label=this.next().expect(tokens.T_STRING).text();this.next().expectEndOfStatement();return result(label);default:var expr=this.read_expr();this.expectEndOfStatement();return expr}},read_code_block:function(top){this.expect("{").next();var body=top?this.read_top_statements():this.read_inner_statements();this.expect("}").next();return body}}}},{}],22:[function(require,module,exports){module.exports=function(api,tokens,EOF){return{read_switch:function(){this.expect(tokens.T_SWITCH).next().expect("(").next();var expr=this.read_expr();this.expect(")").next();var cases=this.read_switch_case_list();return["switch",expr,cases]},read_switch_case_list:function(){var expect=null,result=[];if(this.token==="{"){expect="}"}else if(this.token===":"){expect=tokens.T_ENDSWITCH}else{this.expect(["{",":"])}this.next();if(this.token===";"){this.next()}while(this.token!==EOF&&this.token!==expect){result.push(this.read_case_list(expect))}this.expect(expect).next();if(expect===tokens.T_ENDSWITCH){this.expect(";").next()}return result},read_case_list:function(stopToken){var result={condition:false,body:[]};if(this.token===tokens.T_CASE){result.condition=this.next().read_expr()}else if(this.token===tokens.T_DEFAULT){this.next()}else{this.expect([tokens.T_CASE,tokens.T_DEFAULT])}this.expect([":",";"]).next();while(this.token!=EOF&&this.token!==stopToken&&this.token!==tokens.T_CASE&&this.token!==tokens.T_DEFAULT){result.body.push(this.read_inner_statement())}return result}}}},{}],23:[function(require,module,exports){module.exports=function(api,tokens,EOF){return{read_try:function(){this.expect(tokens.T_TRY).next();var code=this.read_statement();var allways=false;var catches=[];while(this.token===tokens.T_CATCH){this.next().expect("(").next();var exName=this.read_namespace_name();var varName=this.read_variable(true);this.expect(")").next();catches.push({exception:exName,as:varName,body:this.read_statement()})}if(this.token===tokens.T_FINALLY){allways=this.next().read_statement()}return["try",code,catches,allways]}}}},{}],24:[function(require,module,exports){module.exports=function(api,tokens,EOF){return{read_variable:function(read_only,encapsed){var result;if(this.is([tokens.T_VARIABLE,"$"])){result=this.read_reference_variable(encapsed)}else if(this.is([tokens.T_NS_SEPARATOR,tokens.T_STRING])){result=this.read_namespace_name();if(this.token!=tokens.T_DOUBLE_COLON&&this.token!="("){return["const",result.length==1?result[0]:result]}else{result=["ns",result]}}else if(this.token===tokens.T_STATIC){this.next();result=["ns",["static"]]}else{this.expect("VARIABLE")}if(this.token===tokens.T_DOUBLE_COLON){result=this.read_static_getter(result,encapsed)}return this.recursive_variable_chain_scan(result,read_only,encapsed)},read_static_getter:function(from,encapsed){var getter=null;if(this.next().is([tokens.T_VARIABLE,"$"])){getter=this.read_reference_variable(encapsed)}else if(this.token===tokens.T_STRING||this.token===tokens.T_CLASS){getter=this.text();this.next()}else{this.error([tokens.T_VARIABLE,tokens.T_STRING])}if(from[0]!="ns"){from=["lookup","class",from]}return["static","get",from,getter]},recursive_variable_chain_scan:function(result,read_only,encapsed){recursive_scan_loop:while(this.token!=EOF){switch(this.token){case"(":if(read_only){return result}else{result=["call",result,this.read_function_argument_list()]}break;case"[":this.next();var offset=false;if(encapsed){offset=this.read_encaps_var_offset();this.expect("]").next()}else{if(this.token!=="]"){offset=this.read_expr();this.expect("]").next()}else{this.next()}}result=["offset",result,offset];break;case tokens.T_OBJECT_OPERATOR:var what;switch(this.next().token){case tokens.T_STRING:what=["string",this.text()];var tok=this.next().token;if(tok===tokens.T_VARIABLE){what=["bin",".",what,["var",this.text()]]}else if(tok==="{"){what=["bin",".",what,this.next().read_expr()];this.expect("}").next()}break;case tokens.T_VARIABLE:what=["var",this.text()];this.next();break;case"{":what=this.next().read_expr();this.expect("}").next();break;default:this.error([tokens.T_STRING,tokens.T_VARIABLE])}result=["prop",result,what];break;default:break recursive_scan_loop}}return result},read_encaps_var_offset:function(){var offset=false;if(this.token===tokens.T_STRING){offset=["string",this.text()]}else if(this.token===tokens.T_NUM_STRING){offset=["number",this.text()]}else if(this.token===tokens.T_VARIABLE){offset=["var",this.text()]}else{this.expect([tokens.T_STRING,tokens.T_NUM_STRING,tokens.T_VARIABLE])}this.next();return offset},read_reference_variable:function(encapsed){var result=this.read_simple_variable();while(this.token!=EOF){if(this.token=="["){if(encapsed){result=this.next().read_encaps_var_offset()}else{result=["offset",result,this.next().read_dim_offset()]}this.expect("]").next()}else if(this.token=="{"&&!encapsed){result=["offset",result,this.next().read_expr()];this.expect("}").next();break}else break}return result},read_simple_variable:function(){var result;if(this.expect([tokens.T_VARIABLE,"$"]).token===tokens.T_VARIABLE){result=["var",this.text()];this.next()}else{switch(this.next().token){case"{":result=this.next().read_expr();this.expect("}").next();break;case"$":result=["lookup","var",this.read_simple_variable()];break;case tokens.T_VARIABLE:result=["var",this.text()];this.next();break;default:this.error(["{","$",tokens.T_VARIABLE])}result=["lookup","var",result]}return result}}}},{}],25:[function(require,module,exports){module.exports={values:{101:"T_HALT_COMPILER",102:"T_USE",103:"T_ENCAPSED_AND_WHITESPACE",104:"T_OBJECT_OPERATOR",105:"T_STRING",106:"T_DOLLAR_OPEN_CURLY_BRACES",107:"T_STRING_VARNAME",108:"T_CURLY_OPEN",109:"T_NUM_STRING",110:"T_ISSET",111:"T_EMPTY",112:"T_INCLUDE",113:"T_INCLUDE_ONCE",114:"T_EVAL",115:"T_REQUIRE",116:"T_REQUIRE_ONCE",117:"T_NAMESPACE",118:"T_NS_SEPARATOR",119:"T_AS",120:"T_IF",121:"T_ENDIF",122:"T_WHILE",123:"T_DO",124:"T_FOR",125:"T_SWITCH",126:"T_BREAK",127:"T_CONTINUE",128:"T_RETURN",129:"T_GLOBAL",130:"T_STATIC",131:"T_ECHO",132:"T_INLINE_HTML",133:"T_UNSET",134:"T_FOREACH",135:"T_DECLARE",136:"T_TRY",137:"T_THROW",138:"T_GOTO",139:"T_FINALLY",140:"T_CATCH",141:"T_ENDDECLARE",142:"T_LIST",143:"T_CLONE",144:"T_PLUS_EQUAL",145:"T_MINUS_EQUAL",146:"T_MUL_EQUAL",147:"T_DIV_EQUAL",148:"T_CONCAT_EQUAL",149:"T_MOD_EQUAL",150:"T_AND_EQUAL",151:"T_OR_EQUAL",152:"T_XOR_EQUAL",153:"T_SL_EQUAL",154:"T_SR_EQUAL",155:"T_INC",156:"T_DEC",157:"T_BOOLEAN_OR",158:"T_BOOLEAN_AND",159:"T_LOGICAL_OR",160:"T_LOGICAL_AND",161:"T_LOGICAL_XOR",162:"T_SL",163:"T_SR",164:"T_IS_IDENTICAL",165:"T_IS_NOT_IDENTICAL",166:"T_IS_EQUAL",167:"T_IS_NOT_EQUAL",168:"T_IS_SMALLER_OR_EQUAL",169:"T_IS_GREATER_OR_EQUAL",170:"T_INSTANCEOF",171:"T_INT_CAST",172:"T_DOUBLE_CAST",173:"T_STRING_CAST",174:"T_ARRAY_CAST",175:"T_OBJECT_CAST",176:"T_BOOL_CAST",177:"T_UNSET_CAST",178:"T_EXIT",179:"T_PRINT",180:"T_YIELD",181:"T_YIELD_FROM",182:"T_FUNCTION",183:"T_DOUBLE_ARROW",184:"T_DOUBLE_COLON",185:"T_ARRAY",186:"T_CALLABLE",187:"T_CLASS",188:"T_ABSTRACT",189:"T_TRAIT",190:"T_FINAL",191:"T_EXTENDS",192:"T_INTERFACE",193:"T_IMPLEMENTS",194:"T_VAR",195:"T_PUBLIC",196:"T_PROTECTED",197:"T_PRIVATE",198:"T_CONST",199:"T_NEW",200:"T_INSTEADOF",201:"T_ELSEIF",202:"T_ELSE",203:"T_ENDSWITCH",204:"T_CASE",205:"T_DEFAULT",206:"T_ENDFOR",207:"T_ENDFOREACH",208:"T_ENDWHILE",209:"T_CONSTANT_ENCAPSED_STRING",210:"T_LNUMBER",211:"T_DNUMBER",212:"T_LINE",213:"T_FILE",214:"T_DIR",215:"T_TRAIT_C",216:"T_METHOD_C",217:"T_FUNC_C",218:"T_NS_C",219:"T_START_HEREDOC",220:"T_END_HEREDOC",221:"T_CLASS_C",222:"T_VARIABLE",223:"T_OPEN_TAG",224:"T_OPEN_TAG_WITH_ECHO",225:"T_CLOSE_TAG",226:"T_WHITESPACE",227:"T_COMMENT",228:"T_DOC_COMMENT",229:"T_ELLIPSIS",230:"T_COALESCE",231:"T_POW",232:"T_POW_EQUAL",233:"T_SPACESHIP"},names:{T_HALT_COMPILER:101,T_USE:102,T_ENCAPSED_AND_WHITESPACE:103,T_OBJECT_OPERATOR:104,T_STRING:105,T_DOLLAR_OPEN_CURLY_BRACES:106,T_STRING_VARNAME:107,T_CURLY_OPEN:108,T_NUM_STRING:109,T_ISSET:110,T_EMPTY:111,T_INCLUDE:112,T_INCLUDE_ONCE:113,T_EVAL:114,T_REQUIRE:115,T_REQUIRE_ONCE:116,T_NAMESPACE:117,T_NS_SEPARATOR:118,T_AS:119,T_IF:120,T_ENDIF:121,T_WHILE:122,T_DO:123,T_FOR:124,T_SWITCH:125,T_BREAK:126,T_CONTINUE:127,T_RETURN:128,T_GLOBAL:129,T_STATIC:130,T_ECHO:131,T_INLINE_HTML:132,T_UNSET:133,T_FOREACH:134,T_DECLARE:135,T_TRY:136,T_THROW:137,T_GOTO:138,T_FINALLY:139,T_CATCH:140,T_ENDDECLARE:141,T_LIST:142,T_CLONE:143,T_PLUS_EQUAL:144,T_MINUS_EQUAL:145,T_MUL_EQUAL:146,T_DIV_EQUAL:147,T_CONCAT_EQUAL:148,T_MOD_EQUAL:149,T_AND_EQUAL:150,T_OR_EQUAL:151,T_XOR_EQUAL:152,T_SL_EQUAL:153,T_SR_EQUAL:154,T_INC:155,T_DEC:156,T_BOOLEAN_OR:157,T_BOOLEAN_AND:158,T_LOGICAL_OR:159,T_LOGICAL_AND:160,T_LOGICAL_XOR:161,T_SL:162,T_SR:163,T_IS_IDENTICAL:164,T_IS_NOT_IDENTICAL:165,T_IS_EQUAL:166,T_IS_NOT_EQUAL:167,T_IS_SMALLER_OR_EQUAL:168,T_IS_GREATER_OR_EQUAL:169,T_INSTANCEOF:170,T_INT_CAST:171,T_DOUBLE_CAST:172,T_STRING_CAST:173,T_ARRAY_CAST:174,T_OBJECT_CAST:175,T_BOOL_CAST:176,T_UNSET_CAST:177,T_EXIT:178,T_PRINT:179,T_YIELD:180,T_YIELD_FROM:181,T_FUNCTION:182,T_DOUBLE_ARROW:183,T_DOUBLE_COLON:184,T_ARRAY:185,T_CALLABLE:186,T_CLASS:187,T_ABSTRACT:188,T_TRAIT:189,T_FINAL:190,T_EXTENDS:191,T_INTERFACE:192,T_IMPLEMENTS:193,T_VAR:194,T_PUBLIC:195,T_PROTECTED:196,T_PRIVATE:197,T_CONST:198,T_NEW:199,T_INSTEADOF:200,T_ELSEIF:201,T_ELSE:202,T_ENDSWITCH:203,T_CASE:204,T_DEFAULT:205,T_ENDFOR:206,T_ENDFOREACH:207,T_ENDWHILE:208,T_CONSTANT_ENCAPSED_STRING:209,T_LNUMBER:210,T_DNUMBER:211,T_LINE:212,T_FILE:213,T_DIR:214,T_TRAIT_C:215,T_METHOD_C:216,T_FUNC_C:217,T_NS_C:218,T_START_HEREDOC:219,T_END_HEREDOC:220,T_CLASS_C:221,T_VARIABLE:222,T_OPEN_TAG:223,T_OPEN_TAG_WITH_ECHO:224,T_CLOSE_TAG:225,T_WHITESPACE:226,T_COMMENT:227,T_DOC_COMMENT:228,T_ELLIPSIS:229,T_COALESCE:230,T_POW:231,T_POW_EQUAL:232,T_SPACESHIP:233}}},{}],26:[function(require,module,exports){},{}],27:[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],28:[function(require,module,exports){var process=module.exports={};var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=setTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;clearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){setTimeout(drainQueue,0)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],29:[function(require,module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},{}],30:[function(require,module,exports){(function(process,global){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(isUndefined(global.process)){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}if(process.noDeprecation===true){return fn}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=process.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=require("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=require("inherits");exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":29,_process:28,inherits:27}]},{},[1])(1)});
