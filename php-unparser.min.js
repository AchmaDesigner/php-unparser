(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.phpUnparser=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";var CodeGen=require("./node_translators");module.exports=function(ast,opts){opts=opts||{};var codeGen=new CodeGen(opts.indent,opts.dontUseWhitespaces,opts.shortArray);return codeGen.process(ast,"")}},{"./node_translators":19}],2:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],3:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen,elements,that,body,space;codegen=this.process.bind(this);that=this;function processElement(indent){return function(ele){var value=codegen(ele.value,indent);if(ele.key){return codegen(ele.key,indent)+that.ws+"=>"+that.ws+value}return value}}elements=node[1].map(processElement(indent));if(elements.join().length>80){space=that.nl+indent+this.indent;elements=node[1].map(processElement(indent+this.indent));body=space+elements.join(","+space)+that.nl+indent}else{body=elements.join(","+that.ws)}if(this.shortArray){return"["+body+"]"}return"array("+body+")"}},{}],4:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen=this.process.bind(this);return codegen(node[2],indent)+this.ws+node[1]+this.ws+codegen(node[3],indent)}},{}],5:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen=this.process.bind(this);switch(node[1]){case"&":node[1]="&&";break;case"|":node[1]="||";break;case"^":node[1]="xor";break;case"~":node[1]="==";break;case"=":node[1]="===";break;case"!=":node[1]="!==";break;case"!~":node[1]="!=";break;case"?":node[1]="instanceof";break}return codegen(node[2],indent)+this.ws+node[1]+this.ws+codegen(node[3],indent)}},{}],6:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen=this.process.bind(this);if(node[1]){return"break "+codegen(node[1],indent)}return"break"}},{}],7:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen,useArgs=[],space,args,raw;codegen=this.process.bind(this);function processElement(indent){return function(arg){return codegen(arg,indent)}}if(node[2]&&node[2].length>0){useArgs=node[2].map(processElement(indent))}raw=useArgs.join();if(raw.indexOf("\n")>-1&&raw.substr(0,raw.indexOf("\n")).length>80||raw.indexOf("\n")===-1&&raw.length>80){useArgs=node[2].map(processElement(indent+this.indent));space=this.nl+indent+this.indent;args=space+useArgs.join(","+space)+this.nl+indent}else{args=useArgs.join(","+this.ws)}return codegen(node[1],indent)+"("+args+")"}},{}],8:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen,str;codegen=this.process.bind(this);switch(node[1]){case"boolean":str="(bool)";break;case"int":str="(int)";break;case"double":str="(float)";break;case"string":str="(string)";break;case"array":str="(array)";break;case"object":str="(object)";break}return str+codegen(node[2],indent)}},{}],9:[function(require,module,exports){"use strict";var doBody=require("./helper/body");function addKeywords(x){var out="";if(x[2]===1){out+="abstract "}if(x[2]===2){out+="final "}switch(x[0]){case 0:out+="public ";break;case 1:out+="protected ";break;case 2:out+="private ";break}if(x[1]===1){out+="static "}return out}module.exports=function(node,indent){var codegen,str,that,sections;codegen=this.process.bind(this);sections=node[5];that=this;str=node[2]===188?"abstract ":"";str+="class "+node[1];if(node[3]){str+=" extends "+node[3].join("\\")}if(node[4]){str+=" implements "+node[4].map(function(x){return x.join("\\")}).join(","+that.ws)}str+=this.nl+indent+"{"+this.nl;str+=sections.constants.map(function(prop){return indent+that.indent+"const "+prop[0][0]+that.ws+"="+that.ws+codegen(prop[0][1],indent)+";"}).join(this.nl)+this.nl;str+=sections.properties.map(function(prop){var out=indent+that.indent;out+=addKeywords(prop[1]);out+=prop[0][0];if(prop[0][1]){out+=that.ws+"="+that.ws+codegen(prop[0][1],indent)}return out+";"}).join(this.nl)+this.nl;str+="\n"+sections.methods.map(function(method){var out=indent+that.indent;if(method.length===7){out+=addKeywords(method[6]);out+=codegen(method.slice(0,6),indent+that.indent,{notClosure:true});return out}out+=addKeywords(method[7]);out+=codegen(method,indent+that.indent,{notClosure:true});return out}).join(this.nl+this.nl)+this.nl;str+=indent+"}\n";return str}},{"./helper/body":17}],10:[function(require,module,exports){"use strict";module.exports=function(node){return node[1]}},{}],11:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen=this.process.bind(this);if(node[1]){return"continue "+codegen(node[1],indent)}return"continue"}},{}],12:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen,str;codegen=this.process.bind(this);str="do"+this.ws+"{"+this.nl;str+=require("./helper/body")(codegen,indent,this.indent,this.nl,node[2]);str+=indent+"}"+this.ws+"while"+this.ws+"("+codegen(node[1],indent)+")";return str}},{"./helper/body":17}],13:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen,str,body;body=require("./helper/body");codegen=this.process.bind(this);str="for"+this.ws+"(";if(node[1]){str+=node[1].map(function(x){if(x){return codegen(x,indent)}return""}).join(","+this.ws)}str+=";"+this.ws;if(node[2]){str+=node[2].map(function(x){if(x){return codegen(x,indent)}return""}).join(","+this.ws)}str+=";"+this.ws;if(node[3]){str+=node[3].map(function(x){if(x){return codegen(x,indent)}return""}).join(","+this.ws)}str+=")"+this.ws+"{"+this.nl;if(typeof node[4][0]==="string"){node[4]=[node[4]]}str+=body(codegen,indent,this.indent,this.nl,node[4]);str+=indent+"}";return str}},{"./helper/body":17}],14:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen,str;codegen=this.process.bind(this);str="foreach"+this.ws+"("+codegen(node[1],indent)+this.ws+"as"+this.ws;if(node[2]){str+=codegen(node[2],indent)+this.ws+"=>"+this.ws}str+=codegen(node[3],indent)+")"+this.ws+"{"+this.nl;if(typeof node[4][0]==="string"){node[4]=[node[4]]}str+=require("./helper/body")(codegen,indent,this.indent,this.nl,node[4]);return str+indent+"}"}},{"./helper/body":17}],15:[function(require,module,exports){"use strict";var doBody=require("./helper/body");module.exports=function(node,indent,opt){var codegen,str,args,useArgs,that,space,listArgs;opt=opt||{};codegen=this.process.bind(this);that=this;str="function";str+=node[1]?" "+node[1]:this.ws;function processElement(indent){return function(arg){if(arg[2].length>0){return arg[0]+that.ws+"="+that.ws+codegen(arg[2],indent)}return arg[0]}}args=node[2].map(processElement(indent));if(args.join().length>80){space=this.nl+indent+this.indent;args=node[2].map(processElement(indent+this.indent));listArgs=space+args.join(","+space)+this.nl+indent}else{listArgs=args.join(","+this.ws)}str+="("+listArgs+")";if(node[4]&&node[4].length>0){useArgs=node[4].map(function(arg){return arg[1]});str+=this.ws+"use"+this.ws+"("+useArgs.join(","+this.ws)+")"}if(!node[6]){return str+";"}if(opt.notClosure===true){str+=this.nl+indent+"{"+this.nl}else{str+=this.ws+"{"+this.nl}str+=doBody(codegen,indent,that.indent,that.nl,node[6]);str+=indent+"}";return str}},{"./helper/body":17}],16:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen=this.process.bind(this);return"global "+node[1].map(function(x){return codegen(x,indent)}).join(","+this.ws)}},{}],17:[function(require,module,exports){"use strict";module.exports=function(codegen,currentIndent,indent,nl,body,isProgram){var str,indentation;indentation=isProgram?"":currentIndent+indent;str=body.map(function(expr){if(expr===null){return""}var line=indentation+codegen(expr,indentation,{notClosure:true});if(["class","namespace","try","if","switch","for","foreach","function","while"].indexOf(expr[0])===-1){line+=";"}return line+nl}).join("");return str}},{}],18:[function(require,module,exports){"use strict";var body=require("./helper/body");module.exports=function processIf(node,indent){var codegen,str,that=this;codegen=this.process.bind(this);if(typeof node[2][0]==="string"){node[2]=[node[2]]}str="if"+this.ws+"("+codegen(node[1],indent)+")"+this.ws+"{"+this.nl+body(codegen,indent,this.indent,this.nl,node[2])+indent+"}";if(node[3]){str+=function(){var out="";if(node[3][0]==="if"){return that.ws+"else"+processIf.call(that,node[3],indent)}if(typeof node[3][0]==="string"){node[3]=[node[3]]}out+=that.ws+"else"+that.ws+"{"+that.nl;out+=body(codegen,indent,that.indent,that.nl,node[3])+indent+"}"+that.nl;return out}()}return str}},{"./helper/body":17}],19:[function(require,module,exports){(function(process){"use strict";function CodeGen(indent,dontUseWhitespaces,shortArray){this.ws=" ";if(dontUseWhitespaces){this.ws=""}this.indent=typeof indent==="string"?indent:"    ";this.nl=this.indent!==""?"\n":"";this.shortArray=shortArray||false;this.process=function(node,indent,opt){if(node===null){return indent}if(Array.isArray(node)){if(node.length===0){return indent}if(typeof this[node[0]]==="function"){return this[node[0]](node,indent,opt)}}console.log(node);console.log(JSON.stringify(node,null,"  "));console.log((new Error).stack);process.exit()}}module.exports=CodeGen;CodeGen.prototype.array=require("./array.js");CodeGen.prototype.bin=require("./bin.js");CodeGen.prototype.bool=require("./bool.js");CodeGen.prototype.break=require("./break.js");CodeGen.prototype.call=require("./call.js");CodeGen.prototype.cast=require("./cast.js");CodeGen.prototype.class=require("./class.js");CodeGen.prototype.const=require("./const.js");CodeGen.prototype.continue=require("./continue.js");CodeGen.prototype.do=require("./do.js");CodeGen.prototype.foreach=require("./foreach.js");CodeGen.prototype.for=require("./for.js");CodeGen.prototype.function=require("./function.js");CodeGen.prototype.global=require("./global.js");CodeGen.prototype.if=require("./if.js");CodeGen.prototype.link=require("./link.js");CodeGen.prototype.list=require("./list.js");CodeGen.prototype.magic=require("./magic.js");CodeGen.prototype.namespace=require("./namespace.js");CodeGen.prototype.new=require("./new.js");CodeGen.prototype.ns=require("./ns.js");CodeGen.prototype.number=require("./number.js");CodeGen.prototype.offset=require("./offset.js");CodeGen.prototype.post=require("./post.js");CodeGen.prototype.program=require("./program.js");CodeGen.prototype.prop=require("./prop.js");CodeGen.prototype.ref=require("./ref.js");CodeGen.prototype.retif=require("./retif.js");CodeGen.prototype.return=require("./return.js");CodeGen.prototype.set=require("./set.js");CodeGen.prototype.silent=require("./silent.js");CodeGen.prototype.static=require("./static.js");CodeGen.prototype.string=require("./string.js");CodeGen.prototype.switch=require("./switch.js");CodeGen.prototype.sys=require("./sys.js");CodeGen.prototype.throw=require("./throw.js");CodeGen.prototype.try=require("./try.js");CodeGen.prototype.unary=require("./unary.js");CodeGen.prototype.var=require("./var.js");CodeGen.prototype.while=require("./while.js")}).call(this,require("_process"))},{"./array.js":3,"./bin.js":4,"./bool.js":5,"./break.js":6,"./call.js":7,"./cast.js":8,"./class.js":9,"./const.js":10,"./continue.js":11,"./do.js":12,"./for.js":13,"./foreach.js":14,"./function.js":15,"./global.js":16,"./if.js":18,"./link.js":20,"./list.js":21,"./magic.js":22,"./namespace.js":23,"./new.js":24,"./ns.js":25,"./number.js":26,"./offset.js":27,"./post.js":28,"./program.js":29,"./prop.js":30,"./ref.js":31,"./retif.js":32,"./return.js":33,"./set.js":34,"./silent.js":35,"./static.js":36,"./string.js":37,"./switch.js":38,"./sys.js":39,"./throw.js":40,"./try.js":41,"./unary.js":42,"./var.js":43,"./while.js":44,_process:2}],20:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen=this.process.bind(this);return codegen(node[1],indent)+this.ws+"=&"+this.ws+codegen(node[2],indent)}},{}],21:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen,that,body;codegen=this.process.bind(this);that=this;body=node[1].map(function(ele){return codegen(ele,indent)}).join(","+that.ws);return"list("+body+")"+this.ws+"="+this.ws+codegen(node[2],indent)}},{}],22:[function(require,module,exports){"use strict";module.exports=function(node){return node[1].substr("@todo:".length)}},{}],23:[function(require,module,exports){"use strict";var body=require("./helper/body");module.exports=function(node,indent){var str,codegen;str="namespace "+node[1].join("\\")+this.ws+"\n{\n\n";codegen=this.process.bind(this);str+=body(codegen,indent,this.indent,this.nl,node[2]);str+="}";return str}},{"./helper/body":17}],24:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen=this.process.bind(this);return"new "+node[1]+"("+node[2].map(function(x){return codegen(x,indent)}).join(","+this.ws)+")"}},{}],25:[function(require,module,exports){"use strict";module.exports=function(node){return node[1].join("\\")}},{}],26:[function(require,module,exports){"use strict";module.exports=function(node){return node[1].toString()}},{}],27:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen,offset;codegen=this.process.bind(this);offset=node[2]?codegen(node[2],indent):"";return codegen(node[1],indent)+"["+offset+"]"}},{}],28:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen=this.process.bind(this);if(node[1]==="+"){return codegen(node[2],indent)+"++"}if(node[1]==="-"){return codegen(node[2],indent)+"--"}}},{}],29:[function(require,module,exports){"use strict";var body=require("./helper/body");module.exports=function(node){var codegen=this.process.bind(this);if(node[1].length===1&&node[1][0][0]==="namespace"){return"namespace "+node[1][0][1].join("\\")+";\n\n"+body(codegen,"",this.indent,this.nl,node[1][0][2],true)}return body(codegen,"",this.indent,this.nl,node[1],true)}},{"./helper/body":17}],30:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen,prop;codegen=this.process.bind(this);prop=function(){var value=node[2][1];if(node[2][0]==="string"||node[2][0]==="number"){if(typeof value==="number"){value=String(value)}if(value.indexOf("$")>-1||/^[0-9]/.test(value)||value.indexOf("-")>-1){return"{'"+value+"'}"}return value}if(node[2][0]==="var"){return codegen(node[2],indent)}return"{"+codegen(node[2],indent)+"}"}();return codegen(node[1],indent)+"->"+prop}},{}],31:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen=this.process.bind(this);return"&"+codegen(node[1],indent)}},{}],32:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen,left,right;codegen=this.process.bind(this);left=codegen(node[2],indent);if(node[2][0]==="retif"){left="("+left+")"}right=codegen(node[3],indent);if(node[3][0]==="retif"){right="("+right+")"}return codegen(node[1],indent)+this.ws+"?"+this.ws+left+this.ws+":"+this.ws+right}},{}],33:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen;codegen=this.process.bind(this);if(node[1]===null){return"return"}return"return "+codegen(node[1],indent)}},{}],34:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen=this.process.bind(this);if(node[2][0]==="bin"&&JSON.stringify(node[1])===JSON.stringify(node[2][2])){return codegen(node[1],indent)+this.ws+node[2][1]+"="+this.ws+codegen(node[2][3],indent)}return codegen(node[1],indent)+this.ws+"="+this.ws+codegen(node[2],indent)}},{}],35:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen=this.process.bind(this);return"@"+codegen(node[1],indent)}},{}],36:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen=this.process.bind(this),prop=Array.isArray(node[3])?codegen(node[3],indent):node[3];if(node[1]==="get"){return codegen(node[2],indent)+"::"+prop}}},{}],37:[function(require,module,exports){"use strict";module.exports=function(node,indent,opt){opt=opt||{};if(opt.raw){return node[1]}return JSON.stringify(node[1])}},{}],38:[function(require,module,exports){"use strict";var body=require("./helper/body");module.exports=function(node,indent){var codegen,str,that=this,cases;codegen=this.process.bind(this);str="switch"+this.ws+"("+codegen(node[1],indent)+")"+this.ws+"{"+this.nl;cases=node[2].map(function(cas){var head;if(cas.condition){head=indent+that.indent+"case "+codegen(cas.condition,indent)+":"+that.nl}else{head=indent+that.indent+"default:"+that.nl}return head+body(codegen,indent+that.indent,that.indent,that.nl,cas.body)});str+=cases.join("")+indent+"}";return str}},{"./helper/body":17}],39:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen=this.process.bind(this);if(node[1]==="echo"){return"echo "+node[2].map(function(x){return codegen(x,indent)}).join(","+this.ws)}if(node[1]==="shell"){return"`"+codegen(node[2],indent,{raw:true})+"`"}if(node[1]==="clone"){return"clone "+codegen(node[2],indent)}if(!node[2]){return node[1]}if(typeof node[2][0]==="string"){return node[1]+"("+codegen(node[2],indent)+")"}return node[1]+"("+node[2].map(function(x){return codegen(x,indent)}).join(","+this.ws)+")"}},{}],40:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen=this.process.bind(this);return"throw "+codegen(node[1],indent)}},{}],41:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen,str,doBody;doBody=require("./helper/body");codegen=this.process.bind(this);str="try"+this.ws+"{"+this.nl;str+=doBody(codegen,indent,this.indent,this.nl,node[1]);str+=indent+"}";str+=node[2].map(function(except){var out=this.ws+"catch"+this.ws+"("+except.exception+" "+codegen(except.as)+")"+this.ws+"{"+this.nl;out+=doBody(codegen,indent,this.indent,this.nl,except.body);out+=indent+"}";return out},this).join("");if(node[3]){str+=this.ws+"finally"+this.ws+"{"+this.nl;str+=doBody(codegen,indent,this.indent,this.nl,node[3]);str+=indent+"}"}return str}},{"./helper/body":17}],42:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen=this.process.bind(this);return node[1]+codegen(node[2],indent)}},{}],43:[function(require,module,exports){"use strict";module.exports=function(node){return node[1]}},{}],44:[function(require,module,exports){"use strict";module.exports=function(node,indent){var codegen=this.process.bind(this),str;str="while"+this.ws+"("+codegen(node[1],indent)+")"+this.ws+"{"+this.nl;if(typeof node[2][0]==="string"){node[2]=[node[2]]}str+=require("./helper/body")(codegen,indent,this.indent,this.nl,node[2]);return str+indent+"}"}},{"./helper/body":17}]},{},[1])(1)});